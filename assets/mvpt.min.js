!function(){return function t(e,i,s){function r(n,a){if(!i[n]){if(!e[n]){var l="function"==typeof require&&require;if(!a&&l)return l(n,!0);if(o)return o(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[n]={exports:{}};e[n][0].call(u.exports,function(t){return r(e[n][1][t]||t)},u,u.exports,t,e,i,s)}return i[n].exports}for(var o="function"==typeof require&&require,n=0;n<s.length;n++)r(s[n]);return r}}()({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.OMVP_VERSION=void 0;i.OMVP_VERSION=1553},{}],2:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],3:[function(t,e,i){var s=t("./_wks")("unscopables"),r=Array.prototype;void 0==r[s]&&t("./_hide")(r,s,{}),e.exports=function(t){r[s][t]=!0}},{"./_hide":25,"./_wks":82}],4:[function(t,e,i){e.exports=function(t,e,i,s){if(!(t instanceof e)||void 0!==s&&s in t)throw TypeError(i+": incorrect invocation!");return t}},{}],5:[function(t,e,i){var s=t("./_is-object");e.exports=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":33}],6:[function(t,e,i){var s=t("./_to-iobject"),r=t("./_to-length"),o=t("./_to-absolute-index");e.exports=function(t){return function(e,i,n){var a,l=s(e),c=r(l.length),u=o(n,c);if(t&&i!=i){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},{"./_to-absolute-index":72,"./_to-iobject":74,"./_to-length":75}],7:[function(t,e,i){var s=t("./_cof"),r=t("./_wks")("toStringTag"),o="Arguments"==s(function(){return arguments}());e.exports=function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:o?s(e):"Object"==(n=s(e))&&"function"==typeof e.callee?"Arguments":n}},{"./_cof":8,"./_wks":82}],8:[function(t,e,i){var s={}.toString;e.exports=function(t){return s.call(t).slice(8,-1)}},{}],9:[function(t,e,i){var s=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=s)},{}],10:[function(t,e,i){"use strict";var s=t("./_object-dp"),r=t("./_property-desc");e.exports=function(t,e,i){e in t?s.f(t,e,r(0,i)):t[e]=i}},{"./_object-dp":47,"./_property-desc":60}],11:[function(t,e,i){var s=t("./_a-function");e.exports=function(t,e,i){if(s(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,s){return t.call(e,i,s)};case 3:return function(i,s,r){return t.call(e,i,s,r)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":2}],12:[function(t,e,i){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],13:[function(t,e,i){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":19}],14:[function(t,e,i){var s=t("./_is-object"),r=t("./_global").document,o=s(r)&&s(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{"./_global":23,"./_is-object":33}],15:[function(t,e,i){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],16:[function(t,e,i){var s=t("./_object-keys"),r=t("./_object-gops"),o=t("./_object-pie");e.exports=function(t){var e=s(t),i=r.f;if(i)for(var n,a=i(t),l=o.f,c=0;a.length>c;)l.call(t,n=a[c++])&&e.push(n);return e}},{"./_object-gops":52,"./_object-keys":55,"./_object-pie":56}],17:[function(t,e,i){var s=t("./_global"),r=t("./_core"),o=t("./_hide"),n=t("./_redefine"),a=t("./_ctx"),l=function(t,e,i){var c,u,h,d,f=t&l.F,p=t&l.G,_=t&l.S,m=t&l.P,y=t&l.B,g=p?s:_?s[e]||(s[e]={}):(s[e]||{}).prototype,v=p?r:r[e]||(r[e]={}),A=v.prototype||(v.prototype={});for(c in p&&(i=e),i)h=((u=!f&&g&&void 0!==g[c])?g:i)[c],d=y&&u?a(h,s):m&&"function"==typeof h?a(Function.call,h):h,g&&n(g,c,h,t&l.U),v[c]!=h&&o(v,c,d),m&&A[c]!=h&&(A[c]=h)};s.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{"./_core":9,"./_ctx":11,"./_global":23,"./_hide":25,"./_redefine":62}],18:[function(t,e,i){var s=t("./_wks")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[s]=!1,!"/./"[t](e)}catch(t){}}return!0}},{"./_wks":82}],19:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],20:[function(t,e,i){"use strict";var s=t("./_hide"),r=t("./_redefine"),o=t("./_fails"),n=t("./_defined"),a=t("./_wks");e.exports=function(t,e,i){var l=a(t),c=i(n,l,""[t]),u=c[0],h=c[1];o(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,u),s(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},{"./_defined":12,"./_fails":19,"./_hide":25,"./_redefine":62,"./_wks":82}],21:[function(t,e,i){"use strict";var s=t("./_an-object");e.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"./_an-object":5}],22:[function(t,e,i){var s=t("./_ctx"),r=t("./_iter-call"),o=t("./_is-array-iter"),n=t("./_an-object"),a=t("./_to-length"),l=t("./core.get-iterator-method"),c={},u={};(i=e.exports=function(t,e,i,h,d){var f,p,_,m,y=d?function(){return t}:l(t),g=s(i,h,e?2:1),v=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(f=a(t.length);f>v;v++)if((m=e?g(n(p=t[v])[0],p[1]):g(t[v]))===c||m===u)return m}else for(_=y.call(t);!(p=_.next()).done;)if((m=r(_,g,p.value,e))===c||m===u)return m}).BREAK=c,i.RETURN=u},{"./_an-object":5,"./_ctx":11,"./_is-array-iter":31,"./_iter-call":35,"./_to-length":75,"./core.get-iterator-method":83}],23:[function(t,e,i){var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},{}],24:[function(t,e,i){var s={}.hasOwnProperty;e.exports=function(t,e){return s.call(t,e)}},{}],25:[function(t,e,i){var s=t("./_object-dp"),r=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,i){return s.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":13,"./_object-dp":47,"./_property-desc":60}],26:[function(t,e,i){var s=t("./_global").document;e.exports=s&&s.documentElement},{"./_global":23}],27:[function(t,e,i){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":13,"./_dom-create":14,"./_fails":19}],28:[function(t,e,i){var s=t("./_is-object"),r=t("./_set-proto").set;e.exports=function(t,e,i){var o,n=e.constructor;return n!==i&&"function"==typeof n&&(o=n.prototype)!==i.prototype&&s(o)&&r&&r(t,o),t}},{"./_is-object":33,"./_set-proto":63}],29:[function(t,e,i){e.exports=function(t,e,i){var s=void 0===i;switch(e.length){case 0:return s?t():t.call(i);case 1:return s?t(e[0]):t.call(i,e[0]);case 2:return s?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return s?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return s?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],30:[function(t,e,i){var s=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==s(t)?t.split(""):Object(t)}},{"./_cof":8}],31:[function(t,e,i){var s=t("./_iterators"),r=t("./_wks")("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(s.Array===t||o[r]===t)}},{"./_iterators":40,"./_wks":82}],32:[function(t,e,i){var s=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==s(t)}},{"./_cof":8}],33:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],34:[function(t,e,i){var s=t("./_is-object"),r=t("./_cof"),o=t("./_wks")("match");e.exports=function(t){var e;return s(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},{"./_cof":8,"./_is-object":33,"./_wks":82}],35:[function(t,e,i){var s=t("./_an-object");e.exports=function(t,e,i,r){try{return r?e(s(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&s(o.call(t)),e}}},{"./_an-object":5}],36:[function(t,e,i){"use strict";var s=t("./_object-create"),r=t("./_property-desc"),o=t("./_set-to-string-tag"),n={};t("./_hide")(n,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,i){t.prototype=s(n,{next:r(1,i)}),o(t,e+" Iterator")}},{"./_hide":25,"./_object-create":46,"./_property-desc":60,"./_set-to-string-tag":65,"./_wks":82}],37:[function(t,e,i){"use strict";var s=t("./_library"),r=t("./_export"),o=t("./_redefine"),n=t("./_hide"),a=t("./_iterators"),l=t("./_iter-create"),c=t("./_set-to-string-tag"),u=t("./_object-gpo"),h=t("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(t,e,i,p,_,m,y){l(i,e,p);var g,v,A,b=function(t){if(!d&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},V=e+" Iterator",w="values"==_,E=!1,T=t.prototype,S=T[h]||T["@@iterator"]||_&&T[_],x=S||b(_),k=_?w?b("entries"):x:void 0,M="Array"==e&&T.entries||S;if(M&&(A=u(M.call(new t)))!==Object.prototype&&A.next&&(c(A,V,!0),s||"function"==typeof A[h]||n(A,h,f)),w&&S&&"values"!==S.name&&(E=!0,x=function(){return S.call(this)}),s&&!y||!d&&!E&&T[h]||n(T,h,x),a[e]=x,a[V]=f,_)if(g={values:w?x:b("values"),keys:m?x:b("keys"),entries:k},y)for(v in g)v in T||o(T,v,g[v]);else r(r.P+r.F*(d||E),e,g);return g}},{"./_export":17,"./_hide":25,"./_iter-create":36,"./_iterators":40,"./_library":41,"./_object-gpo":53,"./_redefine":62,"./_set-to-string-tag":65,"./_wks":82}],38:[function(t,e,i){var s=t("./_wks")("iterator"),r=!1;try{var o=[7][s]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}e.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],n=o[s]();n.next=function(){return{done:i=!0}},o[s]=function(){return n},t(o)}catch(t){}return i}},{"./_wks":82}],39:[function(t,e,i){e.exports=function(t,e){return{value:e,done:!!t}}},{}],40:[function(t,e,i){e.exports={}},{}],41:[function(t,e,i){e.exports=!1},{}],42:[function(t,e,i){var s=t("./_uid")("meta"),r=t("./_is-object"),o=t("./_has"),n=t("./_object-dp").f,a=0,l=Object.isExtensible||function(){return!0},c=!t("./_fails")(function(){return l(Object.preventExtensions({}))}),u=function(t){n(t,s,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:s,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,s)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[s].i},getWeak:function(t,e){if(!o(t,s)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[s].w},onFreeze:function(t){return c&&h.NEED&&l(t)&&!o(t,s)&&u(t),t}}},{"./_fails":19,"./_has":24,"./_is-object":33,"./_object-dp":47,"./_uid":78}],43:[function(t,e,i){var s=t("./_global"),r=t("./_task").set,o=s.MutationObserver||s.WebKitMutationObserver,n=s.process,a=s.Promise,l="process"==t("./_cof")(n);e.exports=function(){var t,e,i,c=function(){var s,r;for(l&&(s=n.domain)&&s.exit();t;){r=t.fn,t=t.next;try{r()}catch(s){throw t?i():e=void 0,s}}e=void 0,s&&s.enter()};if(l)i=function(){n.nextTick(c)};else if(!o||s.navigator&&s.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);i=function(){u.then(c)}}else i=function(){r.call(s,c)};else{var h=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),i=function(){d.data=h=!h}}return function(s){var r={fn:s,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},{"./_cof":8,"./_global":23,"./_task":71}],44:[function(t,e,i){"use strict";var s=t("./_a-function");e.exports.f=function(t){return new function(t){var e,i;this.promise=new t(function(t,s){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=s}),this.resolve=s(e),this.reject=s(i)}(t)}},{"./_a-function":2}],45:[function(t,e,i){"use strict";var s=t("./_object-keys"),r=t("./_object-gops"),o=t("./_object-pie"),n=t("./_to-object"),a=t("./_iobject"),l=Object.assign;e.exports=!l||t("./_fails")(function(){var t={},e={},i=Symbol(),s="abcdefghijklmnopqrst";return t[i]=7,s.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=s})?function(t,e){for(var i=n(t),l=arguments.length,c=1,u=r.f,h=o.f;l>c;)for(var d,f=a(arguments[c++]),p=u?s(f).concat(u(f)):s(f),_=p.length,m=0;_>m;)h.call(f,d=p[m++])&&(i[d]=f[d]);return i}:l},{"./_fails":19,"./_iobject":30,"./_object-gops":52,"./_object-keys":55,"./_object-pie":56,"./_to-object":76}],46:[function(t,e,i){var s=t("./_an-object"),r=t("./_object-dps"),o=t("./_enum-bug-keys"),n=t("./_shared-key")("IE_PROTO"),a=function(){},l=function(){var e,i=t("./_dom-create")("iframe"),s=o.length;for(i.style.display="none",t("./_html").appendChild(i),i.src="javascript:",(e=i.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;s--;)delete l.prototype[o[s]];return l()};e.exports=Object.create||function(t,e){var i;return null!==t?(a.prototype=s(t),i=new a,a.prototype=null,i[n]=t):i=l(),void 0===e?i:r(i,e)}},{"./_an-object":5,"./_dom-create":14,"./_enum-bug-keys":15,"./_html":26,"./_object-dps":48,"./_shared-key":66}],47:[function(t,e,i){var s=t("./_an-object"),r=t("./_ie8-dom-define"),o=t("./_to-primitive"),n=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(s(t),e=o(e,!0),s(i),r)try{return n(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":5,"./_descriptors":13,"./_ie8-dom-define":27,"./_to-primitive":77}],48:[function(t,e,i){var s=t("./_object-dp"),r=t("./_an-object"),o=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){r(t);for(var i,n=o(e),a=n.length,l=0;a>l;)s.f(t,i=n[l++],e[i]);return t}},{"./_an-object":5,"./_descriptors":13,"./_object-dp":47,"./_object-keys":55}],49:[function(t,e,i){var s=t("./_object-pie"),r=t("./_property-desc"),o=t("./_to-iobject"),n=t("./_to-primitive"),a=t("./_has"),l=t("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;i.f=t("./_descriptors")?c:function(t,e){if(t=o(t),e=n(e,!0),l)try{return c(t,e)}catch(t){}if(a(t,e))return r(!s.f.call(t,e),t[e])}},{"./_descriptors":13,"./_has":24,"./_ie8-dom-define":27,"./_object-pie":56,"./_property-desc":60,"./_to-iobject":74,"./_to-primitive":77}],50:[function(t,e,i){var s=t("./_to-iobject"),r=t("./_object-gopn").f,o={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return n&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return n.slice()}}(t):r(s(t))}},{"./_object-gopn":51,"./_to-iobject":74}],51:[function(t,e,i){var s=t("./_object-keys-internal"),r=t("./_enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return s(t,r)}},{"./_enum-bug-keys":15,"./_object-keys-internal":54}],52:[function(t,e,i){i.f=Object.getOwnPropertySymbols},{}],53:[function(t,e,i){var s=t("./_has"),r=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),n=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),s(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?n:null}},{"./_has":24,"./_shared-key":66,"./_to-object":76}],54:[function(t,e,i){var s=t("./_has"),r=t("./_to-iobject"),o=t("./_array-includes")(!1),n=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var i,a=r(t),l=0,c=[];for(i in a)i!=n&&s(a,i)&&c.push(i);for(;e.length>l;)s(a,i=e[l++])&&(~o(c,i)||c.push(i));return c}},{"./_array-includes":6,"./_has":24,"./_shared-key":66,"./_to-iobject":74}],55:[function(t,e,i){var s=t("./_object-keys-internal"),r=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return s(t,r)}},{"./_enum-bug-keys":15,"./_object-keys-internal":54}],56:[function(t,e,i){i.f={}.propertyIsEnumerable},{}],57:[function(t,e,i){var s=t("./_export"),r=t("./_core"),o=t("./_fails");e.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],n={};n[t]=e(i),s(s.S+s.F*o(function(){i(1)}),"Object",n)}},{"./_core":9,"./_export":17,"./_fails":19}],58:[function(t,e,i){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],59:[function(t,e,i){var s=t("./_an-object"),r=t("./_is-object"),o=t("./_new-promise-capability");e.exports=function(t,e){if(s(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},{"./_an-object":5,"./_is-object":33,"./_new-promise-capability":44}],60:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],61:[function(t,e,i){var s=t("./_redefine");e.exports=function(t,e,i){for(var r in e)s(t,r,e[r],i);return t}},{"./_redefine":62}],62:[function(t,e,i){var s=t("./_global"),r=t("./_hide"),o=t("./_has"),n=t("./_uid")("src"),a=Function.toString,l=(""+a).split("toString");t("./_core").inspectSource=function(t){return a.call(t)},(e.exports=function(t,e,i,a){var c="function"==typeof i;c&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(c&&(o(i,n)||r(i,n,t[e]?""+t[e]:l.join(String(e)))),t===s?t[e]=i:a?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||a.call(this)})},{"./_core":9,"./_global":23,"./_has":24,"./_hide":25,"./_uid":78}],63:[function(t,e,i){var s=t("./_is-object"),r=t("./_an-object"),o=function(t,e){if(r(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i,s){try{(s=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2))(e,[]),i=!(e instanceof Array)}catch(t){i=!0}return function(t,e){return o(t,e),i?t.__proto__=e:s(t,e),t}}({},!1):void 0),check:o}},{"./_an-object":5,"./_ctx":11,"./_is-object":33,"./_object-gopd":49}],64:[function(t,e,i){"use strict";var s=t("./_global"),r=t("./_object-dp"),o=t("./_descriptors"),n=t("./_wks")("species");e.exports=function(t){var e=s[t];o&&e&&!e[n]&&r.f(e,n,{configurable:!0,get:function(){return this}})}},{"./_descriptors":13,"./_global":23,"./_object-dp":47,"./_wks":82}],65:[function(t,e,i){var s=t("./_object-dp").f,r=t("./_has"),o=t("./_wks")("toStringTag");e.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&s(t,o,{configurable:!0,value:e})}},{"./_has":24,"./_object-dp":47,"./_wks":82}],66:[function(t,e,i){var s=t("./_shared")("keys"),r=t("./_uid");e.exports=function(t){return s[t]||(s[t]=r(t))}},{"./_shared":67,"./_uid":78}],67:[function(t,e,i){var s=t("./_core"),r=t("./_global"),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:s.version,mode:t("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":9,"./_global":23,"./_library":41}],68:[function(t,e,i){var s=t("./_an-object"),r=t("./_a-function"),o=t("./_wks")("species");e.exports=function(t,e){var i,n=s(t).constructor;return void 0===n||void 0==(i=s(n)[o])?e:r(i)}},{"./_a-function":2,"./_an-object":5,"./_wks":82}],69:[function(t,e,i){"use strict";var s=t("./_fails");e.exports=function(t,e){return!!t&&s(function(){e?t.call(null,function(){},1):t.call(null)})}},{"./_fails":19}],70:[function(t,e,i){var s=t("./_is-regexp"),r=t("./_defined");e.exports=function(t,e,i){if(s(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},{"./_defined":12,"./_is-regexp":34}],71:[function(t,e,i){var s,r,o,n=t("./_ctx"),a=t("./_invoke"),l=t("./_html"),c=t("./_dom-create"),u=t("./_global"),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,_=u.Dispatch,m=0,y={},g=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},v=function(t){g.call(t.data)};d&&f||(d=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return y[++m]=function(){a("function"==typeof t?t:Function(t),e)},s(m),m},f=function(t){delete y[t]},"process"==t("./_cof")(h)?s=function(t){h.nextTick(n(g,t,1))}:_&&_.now?s=function(t){_.now(n(g,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=v,s=n(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(s=function(t){u.postMessage(t+"","*")},u.addEventListener("message",v,!1)):s="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),g.call(t)}}:function(t){setTimeout(n(g,t,1),0)}),e.exports={set:d,clear:f}},{"./_cof":8,"./_ctx":11,"./_dom-create":14,"./_global":23,"./_html":26,"./_invoke":29}],72:[function(t,e,i){var s=t("./_to-integer"),r=Math.max,o=Math.min;e.exports=function(t,e){return(t=s(t))<0?r(t+e,0):o(t,e)}},{"./_to-integer":73}],73:[function(t,e,i){var s=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?r:s)(t)}},{}],74:[function(t,e,i){var s=t("./_iobject"),r=t("./_defined");e.exports=function(t){return s(r(t))}},{"./_defined":12,"./_iobject":30}],75:[function(t,e,i){var s=t("./_to-integer"),r=Math.min;e.exports=function(t){return t>0?r(s(t),9007199254740991):0}},{"./_to-integer":73}],76:[function(t,e,i){var s=t("./_defined");e.exports=function(t){return Object(s(t))}},{"./_defined":12}],77:[function(t,e,i){var s=t("./_is-object");e.exports=function(t,e){if(!s(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!s(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!s(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!s(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":33}],78:[function(t,e,i){var s=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++s+r).toString(36))}},{}],79:[function(t,e,i){var s=t("./_global").navigator;e.exports=s&&s.userAgent||""},{"./_global":23}],80:[function(t,e,i){var s=t("./_global"),r=t("./_core"),o=t("./_library"),n=t("./_wks-ext"),a=t("./_object-dp").f;e.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:s.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:n.f(t)})}},{"./_core":9,"./_global":23,"./_library":41,"./_object-dp":47,"./_wks-ext":81}],81:[function(t,e,i){i.f=t("./_wks")},{"./_wks":82}],82:[function(t,e,i){var s=t("./_shared")("wks"),r=t("./_uid"),o=t("./_global").Symbol,n="function"==typeof o;(e.exports=function(t){return s[t]||(s[t]=n&&o[t]||(n?o:r)("Symbol."+t))}).store=s},{"./_global":23,"./_shared":67,"./_uid":78}],83:[function(t,e,i){var s=t("./_classof"),r=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[s(t)]}},{"./_classof":7,"./_core":9,"./_iterators":40,"./_wks":82}],84:[function(t,e,i){"use strict";var s=t("./_ctx"),r=t("./_export"),o=t("./_to-object"),n=t("./_iter-call"),a=t("./_is-array-iter"),l=t("./_to-length"),c=t("./_create-property"),u=t("./core.get-iterator-method");r(r.S+r.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,h,d=o(t),f="function"==typeof this?this:Array,p=arguments.length,_=p>1?arguments[1]:void 0,m=void 0!==_,y=0,g=u(d);if(m&&(_=s(_,p>2?arguments[2]:void 0,2)),void 0==g||f==Array&&a(g))for(i=new f(e=l(d.length));e>y;y++)c(i,y,m?_(d[y],y):d[y]);else for(h=g.call(d),i=new f;!(r=h.next()).done;y++)c(i,y,m?n(h,_,[r.value,y],!0):r.value);return i.length=y,i}})},{"./_create-property":10,"./_ctx":11,"./_export":17,"./_is-array-iter":31,"./_iter-call":35,"./_iter-detect":38,"./_to-length":75,"./_to-object":76,"./core.get-iterator-method":83}],85:[function(t,e,i){"use strict";var s=t("./_add-to-unscopables"),r=t("./_iter-step"),o=t("./_iterators"),n=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=n(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,s("keys"),s("values"),s("entries")},{"./_add-to-unscopables":3,"./_iter-define":37,"./_iter-step":39,"./_iterators":40,"./_to-iobject":74}],86:[function(t,e,i){"use strict";var s=t("./_export"),r=t("./_a-function"),o=t("./_to-object"),n=t("./_fails"),a=[].sort,l=[1,2,3];s(s.P+s.F*(n(function(){l.sort(void 0)})||!n(function(){l.sort(null)})||!t("./_strict-method")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},{"./_a-function":2,"./_export":17,"./_fails":19,"./_strict-method":69,"./_to-object":76}],87:[function(t,e,i){var s=t("./_export");s(s.S+s.F,"Object",{assign:t("./_object-assign")})},{"./_export":17,"./_object-assign":45}],88:[function(t,e,i){var s=t("./_to-object"),r=t("./_object-keys");t("./_object-sap")("keys",function(){return function(t){return r(s(t))}})},{"./_object-keys":55,"./_object-sap":57,"./_to-object":76}],89:[function(t,e,i){"use strict";var s,r,o,n,a=t("./_library"),l=t("./_global"),c=t("./_ctx"),u=t("./_classof"),h=t("./_export"),d=t("./_is-object"),f=t("./_a-function"),p=t("./_an-instance"),_=t("./_for-of"),m=t("./_species-constructor"),y=t("./_task").set,g=t("./_microtask")(),v=t("./_new-promise-capability"),A=t("./_perform"),b=t("./_user-agent"),V=t("./_promise-resolve"),w=l.TypeError,E=l.process,T=E&&E.versions,S=T&&T.v8||"",x=l.Promise,k="process"==u(E),M=function(){},I=r=v.f,j=!!function(){try{var e=x.resolve(1),i=(e.constructor={})[t("./_wks")("species")]=function(t){t(M,M)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof i&&0!==S.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(t){}}(),R=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},F=function(t,e){if(!t._n){t._n=!0;var i=t._c;g(function(){for(var s=t._v,r=1==t._s,o=0,n=function(e){var i,o,n,a=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(r||(2==t._h&&P(t),t._h=1),!0===a?i=s:(u&&u.enter(),i=a(s),u&&(u.exit(),n=!0)),i===e.promise?c(w("Promise-chain cycle")):(o=R(i))?o.call(i,l,c):l(i)):c(s)}catch(t){u&&!n&&u.exit(),c(t)}};i.length>o;)n(i[o++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){y.call(l,function(){var e,i,s,r=t._v,o=C(t);if(o&&(e=A(function(){k?E.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(s=l.console)&&s.error&&s.error("Unhandled promise rejection",r)}),t._h=k||C(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},C=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){y.call(l,function(){var e;k?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),F(e,!0))},N=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw w("Promise can't be resolved itself");(e=R(t))?g(function(){var s={_w:i,_d:!1};try{e.call(t,c(N,s,1),c(L,s,1))}catch(t){L.call(s,t)}}):(i._v=t,i._s=1,F(i,!1))}catch(t){L.call({_w:i,_d:!1},t)}}};j||(x=function(t){p(this,x,"Promise","_h"),f(t),s.call(this);try{t(c(N,this,1),c(L,this,1))}catch(t){L.call(this,t)}},(s=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t("./_redefine-all")(x.prototype,{then:function(t,e){var i=I(m(this,x));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=k?E.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&F(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new s;this.promise=t,this.resolve=c(N,t,1),this.reject=c(L,t,1)},v.f=I=function(t){return t===x||t===n?new o(t):r(t)}),h(h.G+h.W+h.F*!j,{Promise:x}),t("./_set-to-string-tag")(x,"Promise"),t("./_set-species")("Promise"),n=t("./_core").Promise,h(h.S+h.F*!j,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!j),"Promise",{resolve:function(t){return V(a&&this===n?x:this,t)}}),h(h.S+h.F*!(j&&t("./_iter-detect")(function(t){x.all(t).catch(M)})),"Promise",{all:function(t){var e=this,i=I(e),s=i.resolve,r=i.reject,o=A(function(){var i=[],o=0,n=1;_(t,!1,function(t){var a=o++,l=!1;i.push(void 0),n++,e.resolve(t).then(function(t){l||(l=!0,i[a]=t,--n||s(i))},r)}),--n||s(i)});return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=I(e),s=i.reject,r=A(function(){_(t,!1,function(t){e.resolve(t).then(i.resolve,s)})});return r.e&&s(r.v),i.promise}})},{"./_a-function":2,"./_an-instance":4,"./_classof":7,"./_core":9,"./_ctx":11,"./_export":17,"./_for-of":22,"./_global":23,"./_is-object":33,"./_iter-detect":38,"./_library":41,"./_microtask":43,"./_new-promise-capability":44,"./_perform":58,"./_promise-resolve":59,"./_redefine-all":61,"./_set-species":64,"./_set-to-string-tag":65,"./_species-constructor":68,"./_task":71,"./_user-agent":79,"./_wks":82}],90:[function(t,e,i){var s=t("./_global"),r=t("./_inherit-if-required"),o=t("./_object-dp").f,n=t("./_object-gopn").f,a=t("./_is-regexp"),l=t("./_flags"),c=s.RegExp,u=c,h=c.prototype,d=/a/g,f=/a/g,p=new c(d)!==d;if(t("./_descriptors")&&(!p||t("./_fails")(function(){return f[t("./_wks")("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")}))){c=function(t,e){var i=this instanceof c,s=a(t),o=void 0===e;return!i&&s&&t.constructor===c&&o?t:r(p?new u(s&&!o?t.source:t,e):u((s=t instanceof c)?t.source:t,s&&o?l.call(t):e),i?this:h,c)};for(var _=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},m=n(u),y=0;m.length>y;)_(m[y++]);h.constructor=c,c.prototype=h,t("./_redefine")(s,"RegExp",c)}t("./_set-species")("RegExp")},{"./_descriptors":13,"./_fails":19,"./_flags":21,"./_global":23,"./_inherit-if-required":28,"./_is-regexp":34,"./_object-dp":47,"./_object-gopn":51,"./_redefine":62,"./_set-species":64,"./_wks":82}],91:[function(t,e,i){t("./_descriptors")&&"g"!=/./g.flags&&t("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:t("./_flags")})},{"./_descriptors":13,"./_flags":21,"./_object-dp":47}],92:[function(t,e,i){t("./_fix-re-wks")("match",1,function(t,e,i){return[function(i){"use strict";var s=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,s):new RegExp(i)[e](String(s))},i]})},{"./_fix-re-wks":20}],93:[function(t,e,i){t("./_fix-re-wks")("replace",2,function(t,e,i){return[function(s,r){"use strict";var o=t(this),n=void 0==s?void 0:s[e];return void 0!==n?n.call(s,o,r):i.call(String(o),s,r)},i]})},{"./_fix-re-wks":20}],94:[function(t,e,i){t("./_fix-re-wks")("search",1,function(t,e,i){return[function(i){"use strict";var s=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,s):new RegExp(i)[e](String(s))},i]})},{"./_fix-re-wks":20}],95:[function(t,e,i){t("./_fix-re-wks")("split",2,function(e,i,s){"use strict";var r=t("./_is-regexp"),o=s,n=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];s=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(i,t,e);var s,l,c,u,h,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,_=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,f+"g");for(a||(s=new RegExp("^"+m.source+"$(?!\\s)",f));(l=m.exec(i))&&!((c=l.index+l[0].length)>p&&(d.push(i.slice(p,l.index)),!a&&l.length>1&&l[0].replace(s,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(l[h]=void 0)}),l.length>1&&l.index<i.length&&n.apply(d,l.slice(1)),u=l[0].length,p=c,d.length>=_));)m.lastIndex===l.index&&m.lastIndex++;return p===i.length?!u&&m.test("")||d.push(""):d.push(i.slice(p)),d.length>_?d.slice(0,_):d}}else"0".split(void 0,0).length&&(s=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(t,r){var o=e(this),n=void 0==t?void 0:t[i];return void 0!==n?n.call(t,o,r):s.call(String(o),t,r)},s]})},{"./_fix-re-wks":20,"./_is-regexp":34}],96:[function(t,e,i){"use strict";t("./es6.regexp.flags");var s=t("./_an-object"),r=t("./_flags"),o=t("./_descriptors"),n=/./.toString,a=function(e){t("./_redefine")(RegExp.prototype,"toString",e,!0)};t("./_fails")(function(){return"/a/b"!=n.call({source:"a",flags:"b"})})?a(function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):"toString"!=n.name&&a(function(){return n.call(this)})},{"./_an-object":5,"./_descriptors":13,"./_fails":19,"./_flags":21,"./_redefine":62,"./es6.regexp.flags":91}],97:[function(t,e,i){"use strict";var s=t("./_export"),r=t("./_string-context");s(s.P+s.F*t("./_fails-is-regexp")("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{"./_export":17,"./_fails-is-regexp":18,"./_string-context":70}],98:[function(t,e,i){"use strict";var s=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),n="".startsWith;s(s.P+s.F*t("./_fails-is-regexp")("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),s=String(t);return n?n.call(e,s,i):e.slice(i,i+s.length)===s}})},{"./_export":17,"./_fails-is-regexp":18,"./_string-context":70,"./_to-length":75}],99:[function(t,e,i){"use strict";var s=t("./_global"),r=t("./_has"),o=t("./_descriptors"),n=t("./_export"),a=t("./_redefine"),l=t("./_meta").KEY,c=t("./_fails"),u=t("./_shared"),h=t("./_set-to-string-tag"),d=t("./_uid"),f=t("./_wks"),p=t("./_wks-ext"),_=t("./_wks-define"),m=t("./_enum-keys"),y=t("./_is-array"),g=t("./_an-object"),v=t("./_is-object"),A=t("./_to-iobject"),b=t("./_to-primitive"),V=t("./_property-desc"),w=t("./_object-create"),E=t("./_object-gopn-ext"),T=t("./_object-gopd"),S=t("./_object-dp"),x=t("./_object-keys"),k=T.f,M=S.f,I=E.f,j=s.Symbol,R=s.JSON,F=R&&R.stringify,O=f("_hidden"),C=f("toPrimitive"),P={}.propertyIsEnumerable,L=u("symbol-registry"),N=u("symbols"),D=u("op-symbols"),U=Object.prototype,W="function"==typeof j,q=s.QObject,B=!q||!q.prototype||!q.prototype.findChild,H=o&&c(function(){return 7!=w(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,i){var s=k(U,e);s&&delete U[e],M(t,e,i),s&&t!==U&&M(U,e,s)}:M,K=function(t){var e=N[t]=w(j.prototype);return e._k=t,e},Y=W&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},J=function(t,e,i){return t===U&&J(D,e,i),g(t),e=b(e,!0),g(i),r(N,e)?(i.enumerable?(r(t,O)&&t[O][e]&&(t[O][e]=!1),i=w(i,{enumerable:V(0,!1)})):(r(t,O)||M(t,O,V(1,{})),t[O][e]=!0),H(t,e,i)):M(t,e,i)},G=function(t,e){g(t);for(var i,s=m(e=A(e)),r=0,o=s.length;o>r;)J(t,i=s[r++],e[i]);return t},Z=function(t){var e=P.call(this,t=b(t,!0));return!(this===U&&r(N,t)&&!r(D,t))&&(!(e||!r(this,t)||!r(N,t)||r(this,O)&&this[O][t])||e)},X=function(t,e){if(t=A(t),e=b(e,!0),t!==U||!r(N,e)||r(D,e)){var i=k(t,e);return!i||!r(N,e)||r(t,O)&&t[O][e]||(i.enumerable=!0),i}},z=function(t){for(var e,i=I(A(t)),s=[],o=0;i.length>o;)r(N,e=i[o++])||e==O||e==l||s.push(e);return s},Q=function(t){for(var e,i=t===U,s=I(i?D:A(t)),o=[],n=0;s.length>n;)!r(N,e=s[n++])||i&&!r(U,e)||o.push(N[e]);return o};W||(a((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(i){this===U&&e.call(D,i),r(this,O)&&r(this[O],t)&&(this[O][t]=!1),H(this,t,V(1,i))};return o&&B&&H(U,t,{configurable:!0,set:e}),K(t)}).prototype,"toString",function(){return this._k}),T.f=X,S.f=J,t("./_object-gopn").f=E.f=z,t("./_object-pie").f=Z,t("./_object-gops").f=Q,o&&!t("./_library")&&a(U,"propertyIsEnumerable",Z,!0),p.f=function(t){return K(f(t))}),n(n.G+n.W+n.F*!W,{Symbol:j});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)f($[tt++]);for(var et=x(f.store),it=0;et.length>it;)_(et[it++]);n(n.S+n.F*!W,"Symbol",{for:function(t){return r(L,t+="")?L[t]:L[t]=j(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),n(n.S+n.F*!W,"Object",{create:function(t,e){return void 0===e?w(t):G(w(t),e)},defineProperty:J,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:z,getOwnPropertySymbols:Q}),R&&n(n.S+n.F*(!W||c(function(){var t=j();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function(t){for(var e,i,s=[t],r=1;arguments.length>r;)s.push(arguments[r++]);if(i=e=s[1],(v(e)||void 0!==t)&&!Y(t))return y(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Y(e))return e}),s[1]=e,F.apply(R,s)}}),j.prototype[C]||t("./_hide")(j.prototype,C,j.prototype.valueOf),h(j,"Symbol"),h(Math,"Math",!0),h(s.JSON,"JSON",!0)},{"./_an-object":5,"./_descriptors":13,"./_enum-keys":16,"./_export":17,"./_fails":19,"./_global":23,"./_has":24,"./_hide":25,"./_is-array":32,"./_is-object":33,"./_library":41,"./_meta":42,"./_object-create":46,"./_object-dp":47,"./_object-gopd":49,"./_object-gopn":51,"./_object-gopn-ext":50,"./_object-gops":52,"./_object-keys":55,"./_object-pie":56,"./_property-desc":60,"./_redefine":62,"./_set-to-string-tag":65,"./_shared":67,"./_to-iobject":74,"./_to-primitive":77,"./_uid":78,"./_wks":82,"./_wks-define":80,"./_wks-ext":81}],100:[function(t,e,i){"use strict";var s=t("./_export"),r=t("./_array-includes")(!0);s(s.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":3,"./_array-includes":6,"./_export":17}],101:[function(t,e,i){"use strict";var s=t("./_export"),r=t("./_core"),o=t("./_global"),n=t("./_species-constructor"),a=t("./_promise-resolve");s(s.P+s.R,"Promise",{finally:function(t){var e=n(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return a(e,t()).then(function(){return i})}:t,i?function(i){return a(e,t()).then(function(){throw i})}:t)}})},{"./_core":9,"./_export":17,"./_global":23,"./_promise-resolve":59,"./_species-constructor":68}],102:[function(t,e,i){t("./_wks-define")("asyncIterator")},{"./_wks-define":80}],103:[function(t,e,i){for(var s=t("./es6.array.iterator"),r=t("./_object-keys"),o=t("./_redefine"),n=t("./_global"),a=t("./_hide"),l=t("./_iterators"),c=t("./_wks"),u=c("iterator"),h=c("toStringTag"),d=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),_=0;_<p.length;_++){var m,y=p[_],g=f[y],v=n[y],A=v&&v.prototype;if(A&&(A[u]||a(A,u,d),A[h]||a(A,h,y),l[y]=d,g))for(m in s)A[m]||o(A,m,s[m],!0)}},{"./_global":23,"./_hide":25,"./_iterators":40,"./_object-keys":55,"./_redefine":62,"./_wks":82,"./es6.array.iterator":85}],104:[function(t,e,i){var s=t("silent-mp3-datauri"),r=t("./silent-ogg-datauri");function o(t,e){return t.canPlayType(e).replace(/no/,"")}e.exports=function(t){t||(t=new window.Audio);if(o(t,"audio/mpeg"))return s;if(o(t,"audio/ogg"))return r;return null}},{"./silent-ogg-datauri":105,"silent-mp3-datauri":113}],105:[function(t,e,i){e.exports="data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA="},{}],106:[function(t,e,i){(function(i){var s=t("./lib/get-src"),r=300,o=function(){};e.exports=function(t,e){if("function"!=typeof t)throw new TypeError("must specify a cb function");var n,a;e="number"==typeof e?e:r;try{n=new window.Audio;var l=s(n);if(!l)return i.nextTick(function(){t(!1)});a=setTimeout(function(){t(!1),t=o},e),n.autoplay=!0,n.volume=0,n.addEventListener("play",u,!1),n.src=l,n.load();var c=n.play();c&&"function"==typeof c.then&&(n.removeEventListener("play",u,!1),c.then(function(){u()},function(e){t(!1),t=o}))}catch(e){i.nextTick(function(){t(!1),t=o})}function u(){a&&clearTimeout(a),n&&(n.pause(),n.removeEventListener("play",u,!1)),t(!0),t=o}}}).call(this,t("_process"))},{"./lib/get-src":104,_process:112}],107:[function(t,e,i){!function(){"use strict";function t(e,i){var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],n=0,a=o.length;n<a;n++)this[o[n]]=l(this[o[n]],this);s&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,s){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,i.hijacked||i,s):r.call(e,t,i,s)},e.addEventListener=function(t,i,s){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),s):r.call(e,t,i,s)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}function l(t,e){return function(){return t.apply(e,arguments)}}}var i=navigator.userAgent.indexOf("Windows Phone")>=0,s=navigator.userAgent.indexOf("Android")>0&&!i,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,o=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),n=r&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!s;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,s;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),s=e.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(t),!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return s&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(!(e=t.fastClickScrollParent)||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,s;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],r){if((s=window.getSelection()).rangeCount&&!s.isCollapsed)return!0;if(!o){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,i,a,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,n&&(c=t.changedTouches[0],(u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(a=u.tagName.toLowerCase())){if(e=this.findControl(u)){if(this.focus(u),s)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-i>100||r&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),r&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!r||o||!(l=u.fastClickScrollParent)||l.fastClickLastScrollTop===l.scrollTop)||(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||((e=this.onMouse(t))||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;s&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,r;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!s)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]"))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(e=document.querySelector("meta[name=viewport]"))&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,i){return new t(e,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):void 0!==e&&e.exports?(e.exports=t.attach,e.exports.FastClick=t):window.FastClick=t}()},{}],108:[function(t,e,i){!function(t,s){if("function"==typeof define&&define.amd)define(["exports","module"],s);else if(void 0!==i&&void 0!==e)s(i,e);else{var r={exports:{}};s(r.exports,r),t.fetchJsonp=r.exports}}(this,function(t,e){"use strict";var i={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function s(t){try{delete window[t]}catch(e){window[t]=void 0}}function r(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}e.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=t,n=e.timeout||i.timeout,a=e.jsonpCallback||i.jsonpCallback,l=void 0;return new Promise(function(i,c){var u=e.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),h=a+"_"+u;window[u]=function(t){i({ok:!0,json:function(){return Promise.resolve(t)}}),l&&clearTimeout(l),r(h),s(u)},o+=-1===o.indexOf("?")?"?":"&";var d=document.createElement("script");d.setAttribute("src",""+o+a+"="+u),e.charset&&d.setAttribute("charset",e.charset),d.id=h,document.getElementsByTagName("head")[0].appendChild(d),l=setTimeout(function(){c(new Error("JSONP request to "+t+" timed out")),s(u),r(h),window[u]=function(){s(u)}},n),d.onerror=function(){c(new Error("JSONP request to "+t+" failed")),s(u),r(h),l&&clearTimeout(l)}})}})},{}],109:[function(t,e,i){!function(){"use strict";var t=["fullscreen","fullscreenEnabled","fullscreenElement","fullscreenchange","fullscreenerror","exitFullscreen","requestFullscreen"],e=["webkitIsFullScreen","webkitFullscreenEnabled","webkitFullscreenElement","webkitfullscreenchange","webkitfullscreenerror","webkitExitFullscreen","webkitRequestFullscreen"],i=["mozFullScreen","mozFullScreenEnabled","mozFullScreenElement","mozfullscreenchange","mozfullscreenerror","mozCancelFullScreen","mozRequestFullScreen"],s=["","msFullscreenEnabled","msFullscreenElement","MSFullscreenChange","MSFullscreenError","msExitFullscreen","msRequestFullscreen"];document||(document={});var r,o=(r=[t[1],e[1],i[1],s[1]].find(function(t){return document[t]}),[t,e,i,s].find(function(t){return t.find(function(t){return t===r})})||[]);function n(e,i){document[t[0]]=document[o[0]]||!!document[o[2]]||!1,document[t[1]]=document[o[1]]||!1,document[t[2]]=document[o[2]]||null,document.dispatchEvent(new Event(e),i.target)}document[t[1]]||(document[t[0]]=document[o[0]]||!!document[o[2]]||!1,document[t[1]]=document[o[1]]||!1,document[t[2]]=document[o[2]]||null,document.addEventListener(o[3],n.bind(document,t[3]),!1),document.addEventListener(o[4],n.bind(document,t[4]),!1),document[t[5]]=function(){return document[o[5]]()},Element.prototype[t[6]]=function(){return this[o[6]].apply(this,arguments)})}()},{}],110:[function(t,e,i){var s=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},r=function(t,e,i,o){return e=e||null,i=i||"&",o=o||null,t?function(t){for(var e=new Array,i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e}(Object.keys(t).map(function(n){var a,l,c=n;if(o&&(c=o+"["+c+"]"),"object"==typeof t[n]&&null!==t[n])a=r(t[n],null,i,c);else{e&&(l=c,c=!isNaN(parseFloat(l))&&isFinite(l)?e+Number(c):c);var u=t[n];u=(u=0===(u=!1===(u=!0===u?"1":u)?"0":u)?"0":u)||"",a=s(c)+"="+s(u)}return a})).join(i).replace(/[!'()*]/g,""):""};e.exports=r},{}],111:[function(t,e,i){i.endianness=function(){return"LE"},i.hostname=function(){return"undefined"!=typeof location?location.hostname:""},i.loadavg=function(){return[]},i.uptime=function(){return 0},i.freemem=function(){return Number.MAX_VALUE},i.totalmem=function(){return Number.MAX_VALUE},i.cpus=function(){return[]},i.type=function(){return"Browser"},i.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},i.networkInterfaces=i.getNetworkInterfaces=function(){return{}},i.arch=function(){return"javascript"},i.platform=function(){return"browser"},i.tmpdir=i.tmpDir=function(){return"/tmp"},i.EOL="\n",i.homedir=function(){return"/"}},{}],112:[function(t,e,i){var s,r,o=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],h=!1,d=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!h){var t=l(f);h=!0;for(var e=u.length;e;){for(c=u,u=[];++d<e;)c&&c[d].run();d=-1,e=u.length}c=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new _(t,e)),1!==u.length||h||l(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],113:[function(t,e,i){e.exports="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU="},{}],114:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MANAGER_STATE=void 0;i.MANAGER_STATE={INIT:"init",READY:"ready",EMPTY:"empty",WAITING:"waiting",AD_WAITING:"advertWaiting",AD_PRELOAD_START:"advertPreloadStart",AD_PRELOAD_SUCCESS:"advertPreloadSuccess",AD_PRELOAD_FAIL:"advertPreloadFail",AD_VIEW:"advertView",AD_START:"advertStart",AD_END:"advertEnd",AD_ERROR:"advertError",DESTROY:"destroy"}},{}],115:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){return s?performance.now()+performance.timing.navigationStart:(new Date).getTime()};let s="undefined"!=typeof performance&&void 0!==performance.now},{}],116:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getInfo=function(){let t,e,i,r=0,o=0;t=function(s){let n,a;o++;try{a=s.location.href}catch(t){i="Error "+t.message}if(s.parent===s)a&&(e=a,r=o);else{try{n=s.document.referrer}catch(t){}a&&(r=o,e=a),n&&(r=o+1,e=n),t(s.parent)}};try{t(window)}catch(t){i="Error "+t.message}return{referer:e,ref:s.url.getDomain(e),refN:r,success:r===o,count:o,error:i}};var s=t("./url")},{"./url":117}],117:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.url=void 0;let s={getDomain(t){let e=document.createElement("a");return e.href=t,e.hostname}};i.url=s},{}],118:[function(t,e,i){"use strict";function s(){}Object.defineProperty(i,"__esModule",{value:!0}),i.waitHelper=void 0,t("core-js/modules/es7.promise.finally"),t("core-js/modules/es6.promise");const r=new class{wait(t,e){let i="object"==typeof e?e:{timeout:"number"==typeof e?e:0,resolveTrue:!0};return i||(i={timeout:0,resolveTrue:!0}),"resolveTrue"in i==0&&(i.resolveTrue=!0),"throwWhenTimeout"in i==0&&"rejectWhenTimeout"in i==0&&"resolveFalseWhenTimeout"in i==0&&(i.resolveFalseWhenTimeout=!0),new Promise((e,s)=>{let r=i.timeout>0?setTimeout(()=>{r=void 0,i.resolveFalseWhenTimeout?e(!1):i.rejectWhenTimeout?s():i.throwWhenTimeout},i.timeout):null;const o=(...s)=>{t.apply(void 0,s)?(r&&(clearTimeout(r),r=void 0),i.resolveTrue&&e(!0)):requestAnimationFrame(o)};requestAnimationFrame(o)})}asyncTimeout(t=0){return new Promise(e=>{setTimeout(e,t)})}resettableTimout(t,e,i=!0,r="Timeout #timeout#"){let o=()=>{a=null,n=s,o=s},n=()=>{a=null,o=s,n=null,e(!1!==i?new Error(!0===i?"":i+": Timeout "+t+(r?". "+r:"")):void 0)},a=this.asyncTimeout(t);return a.finally(n),o}promiseTimeout(t,e,i=!0,r="Timeout #timeout#"){return new Promise(o=>{let n=()=>{e=null,n=null,o(!1!==i?new Error(!0===i?"":i+": Timeout "+t+(r?". "+r:"")):void 0)};e.then(t=>{n=s,o(t)}),this.asyncTimeout(t).finally(n)})}};i.waitHelper=r},{"core-js/modules/es6.promise":89,"core-js/modules/es7.promise.finally":101}],119:[function(t,e,i){"use strict";var s,r=(s=t("fastclick"))&&s.__esModule?s:{default:s};document.addEventListener("DOMContentLoaded",function(){(0,r.default)(document.body)},!1)},{fastclick:107}],120:[function(t,e,i){"use strict";t("./fast-click"),t("./promise-finally"),t("fullscreen-polyfill")},{"./fast-click":119,"./promise-finally":121,"fullscreen-polyfill":109}],121:[function(t,e,i){"use strict";if(t("core-js/modules/es7.symbol.async-iterator"),t("core-js/modules/es6.symbol"),t("core-js/modules/es7.promise.finally"),t("core-js/modules/es6.promise"),"function"!=typeof Promise)throw new TypeError("A global Promise is required");if("function"!=typeof Promise.prototype.finally){let t=function(t,e){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Assertion failed: Type(O) is not Object");let i=t.constructor;if(void 0===i)return e;if(!i||"object"!=typeof i&&"function"!=typeof i)throw new TypeError("O.constructor is not an Object");let s="function"==typeof Symbol&&"symbol"==typeof Symbol.species?i[Symbol.species]:void 0;if(null==s)return e;if("function"==typeof s&&s.prototype)return s;throw new TypeError("no constructor found")},e={finally(e){let i=this;if("object"!=typeof i||null===i)throw new TypeError('"this" value is not an Object');let s=t(i,Promise);return"function"!=typeof e?Promise.prototype.then.call(i,e,e):Promise.prototype.then.call(i,t=>new s(t=>t(e())).then(()=>t),t=>new s(t=>t(e())).then(()=>{throw t}))}};Object.defineProperty(Promise.prototype,"finally",{configurable:!0,writable:!0,value:e.finally})}},{"core-js/modules/es6.promise":89,"core-js/modules/es6.symbol":99,"core-js/modules/es7.promise.finally":101,"core-js/modules/es7.symbol.async-iterator":102}],122:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.LOADER_FILES=void 0,t("core-js/modules/es7.array.includes"),t("core-js/modules/es6.string.includes"),t("core-js/modules/es6.regexp.split"),t("core-js/modules/es6.string.starts-with"),t("core-js/modules/es6.regexp.search"),t("core-js/modules/es6.promise");var s=a(t("fetch-jsonp")),r=a(t("../../player/utils/url")),o=t("../../../config/player-version"),n=a(t("../../player/utils/catchHandler"));function a(t){return t&&t.__esModule?t:{default:t}}function l(t,e,i,s,r,o,n){try{var a=t[o](n),l=a.value}catch(t){return void i(t)}a.done?e(l):Promise.resolve(l).then(s,r)}function c(t){return function(){var e=this,i=arguments;return new Promise(function(s,r){var o=t.apply(e,i);function n(t){l(o,s,r,n,a,"next",t)}function a(t){l(o,s,r,n,a,"throw",t)}n(void 0)})}}const u="//moevideo.biz",h="mvplayer",d="mvpt",f="replacer",p="vpaid",_={FILE_MVPLAYER:h,FILE_MVPT:d,FILE_REPLACER:f,FILE_VPAID:p};i.LOADER_FILES=_;const m=1e3,y=2;class g{static init(t={}){return this.__instance||(this.__instance=new this(t)),this.__instance}static instance(){return this.__instance||(this.__instance=new this),this.__instance}static runWithRightVersion(t=null,e={}){var i=this;return c(function*(){if(!t)throw new Error;i.init(e);const s=i.instance();let r=null,o=[];switch(t){case _.FILE_MVPT:o.push(/\/embed\/js\/mvpt.min.js/),o.push(/\/player(?:_test)\/[\d]+\/mvpt.min.js/);break;case _.FILE_REPLACER:o.push(/\/embed\/js\/mvpt.min.js/),o.push(/\/player(?:_test)\/[\d]+\/replacer.js/)}if(o.length>0){let t=[];const e=Array.prototype.slice.call(document.querySelectorAll("script[src]"));for(const i of e)for(const e of o)e.test(i.src)&&t.push(i.src);r=t.pop(),t=null}return s._currentScriptTest=/player_test/.test(r),s.checkCurrentVersion().catch(()=>{s._loadScript(t).then(()=>Promise.resolve()).catch(t=>(0,n.default)(t))})})()}static runMvpt(t={}){this.init(t);const e=this.instance();return"moevideoQueue"in window==!1&&(window.moevideoQueue=[]),e.loadMvptScript().then(()=>{new window.MVPT})}static runReplacer(t={},e={},i="Replacer"){this.init(e);const s=this.instance();window.MoeVideo=window.MoeVideo||{},window.MoeVideo.__replacer_idle=[],window.MoeVideo.__wrapper_idle=[],window.MoeVideo.Replacer=(t=>{window.MoeVideo.__replacer_idle.push(t)}),window.MoeVideo.Wrapper=(t=>{window.MoeVideo.__wrapper_idle.push(t)}),s.loadReplacerScript().then(()=>{window.MoeVideo[i](t)}).catch(t=>(0,n.default)(t))}static runWrapper(t={},e={}){return this.runReplacer(t,e,"Wrapper")}constructor(t={}){this._server=null,this._jsonp=!0,this._overrideVersion=null,this._nativeServer=null,this._embedServer=null,this._ref=null,this._currentScriptTest=!1,this._fetchCache={},this._loaded=[],this._server="server"in t&&t.server?t.server:null,this._jsonp=!("jsonp"in t&&void 0!==t.jsonp)||!!t.jsonp,this._overrideVersion="version"in t&&t.version?t.version:null,this._isTest="isTest"in t&&void 0!==t.isTest&&!!t.isTest,this._nativeServer="nativeServer"in t&&t.nativeServer?t.nativeServer:null,this._embedServer="embedServer"in t&&t.embedServer?t.embedServer:null;const e=r.default.parseSearch(location.search);"MVServer"in window&&(this._server=window.MVServer),e&&"mvserv"in e&&(this._server=e.mvserv),this._server&&!1===/https?:\/\//.test(this._server)&&!1===this._server.startsWith("//")&&(this._server="//"+this._server),e&&"mvloaderjson"in e&&(this._jsonp=!!e.mvloaderjson),e&&"mvver"in e&&(this._overrideVersion=parseInt(e.mvver)),e&&"mvtest"in e&&(this._isTest=!!e.mvtest),e&&"mvembedserv"in e?this._embedServer=e.mvembedserv:this._server&&(this._embedServer=this._server),e&&"mvnativeserv"in e?this._nativeServer=e.mvnativeserv:this._server&&(this._nativeServer=this._server),e&&"mvref"in e&&(this._ref=e.mvref),this._server||(this._server=u)}get server(){return this._server}get jsonp(){return this._jsonp}get isTest(){return this._isTest}get overrideVersion(){return this._overrideVersion}get nativeServer(){return this._nativeServer}get embedServer(){return this._embedServer}get ref(){return this._ref}getCurrentVersion(){var t=this;return c(function*(){if(t._version)return Promise.resolve(t._version);let e=t.getUrl("version");return t._fetch(e).then(e=>(t._version=null===e||void 0===e?void 0:e.version,t._version))})()}checkCurrentVersion(){var t=this;return c(function*(){if(t._currentScriptTest!==t._isTest)return Promise.reject();let e=t.overrideVersion?t.overrideVersion===o.OMVP_VERSION||o.OMVP_VERSION<m:(yield t.getCurrentVersion())===o.OMVP_VERSION||o.OMVP_VERSION<m;return!e&&(window.___mvlfchv=("___mvlfchv"in window?window.___mvlfchv:0)+1,window.___mvlfchv>=y)?Promise.resolve():e?Promise.resolve():Promise.reject()})()}getScriptUrl(t){var e=this;return c(function*(){let i=e.getUrl("path",null,{target:t+("replacer"!==t?".min.js":".js")});return e._fetch(i).then(t=>null===t||void 0===t?void 0:t.path)})()}getStyleUrl(t){var e=this;return c(function*(){if(2!==(t=t.split("/")).length)throw new Error;switch(t[0]){case"playerSkin":t="skins/"+t[1]+"/styles.css";break;default:throw new Error}let i=e.getUrl("path",null,{target:t});return e._fetch(i).then(t=>null===t||void 0===t?void 0:t.path)})()}loadMVPlayerScript(){var t=this;return c(function*(){return t._loadScript(h)})()}loadMvptScript(){var t=this;return c(function*(){return t._loadScript(d)})()}loadReplacerScript(){var t=this;return c(function*(){return t._loadScript(f)})()}loadVpaidScript(){var t=this;return c(function*(){return t._loadScript(p)})()}getUrl(t,e=null,i=null){let s="/embed/core/"+t+(e?"/"+e:"");this.server&&(s=this.server+s);let o=i||{};return o[this.jsonp?"jsonp":"json"]="",this.overrideVersion&&(o.version=this.overrideVersion),this.isTest&&(o.test=1),s+="?"+r.default.buildQuery(o)}_loadScript(t){var e=this;return c(function*(){return new Promise(function(){var i=c(function*(i,s){const r=yield e.getScriptUrl(t);if(e._loaded.includes(r))return Promise.resolve();const o=()=>{n&&(clearTimeout(n),n=null),a.remove(),a=null,s()};let n=setTimeout(o,5e3),a=document.createElement("script");a.src=r,a.async="async",a.onerror=o,a.onload=(()=>{n&&(clearTimeout(n),n=null),e._loaded.push(r),i()}),document.head.appendChild(a)});return function(t,e){return i.apply(this,arguments)}}())})()}_loadStyle(t){var e=this;return c(function*(){return new Promise(function(){var i=c(function*(i,s){const r=yield e.getStyleUrl(t);if(e._loaded.includes(r))return Promise.resolve();const o=()=>{n&&(clearTimeout(n),n=null),a.remove(),a=null,s()};let n=setTimeout(o,5e3),a=document.createElement("script");a.type="text/css",a.rel="stylesheet",a.src=r,a.onerror=o,a.onload=(()=>{n&&(clearTimeout(n),n=null),e._loaded.push(r),i()}),document.head.appendChild(a)});return function(t,e){return i.apply(this,arguments)}}())})()}_fetch(t,e={},i=!0){var r=this;return c(function*(){let o;if(i&&(o=r._getCacheKey(t,e))in r._fetchCache)return r._fetchCache[o];let n=fetch;return r.jsonp&&(e.jsonpCallback="jsonpCallback",n=s.default),n(t,e).then(t=>t.json()).then(t=>(i&&o&&(r._fetchCache[o]=t),t))})()}_getCacheKey(...t){return btoa(JSON.stringify(t))}}i.default=g,g.__instance=void 0},{"../../../config/player-version":1,"../../player/utils/catchHandler":130,"../../player/utils/url":134,"core-js/modules/es6.promise":89,"core-js/modules/es6.regexp.search":94,"core-js/modules/es6.regexp.split":95,"core-js/modules/es6.string.includes":97,"core-js/modules/es6.string.starts-with":98,"core-js/modules/es7.array.includes":100,"fetch-jsonp":108}],123:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/es6.object.assign");var s=a(t("./events")),r=a(t("./error")),o=a(t("./../utils/unique")),n=a(t("./../utils/extend"));function a(t){return t&&t.__esModule?t:{default:t}}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}class c{constructor(t,e={}){this._destroyed=!1,!t&&this.play&&(t=this),this.id=(0,o.default)("mv"),this._player=t,this._events={},this.setOptions(e),t&&t.trigger("create",{item:this})}setOptions(t){this._options=(0,n.default)({},this._options,t)}triggerError(t,e="",i={}){this.trigger(new r.default(this,t,e,i))}destroy(){this._destroyed||(this.trigger("destroy"),setTimeout(()=>{this.stopListening().off()},0),this._destroyed=!0)}get destroyed(){return this._destroyed}getOptions(){return this._options}getOption(t,e){return this._options.hasOwnProperty(t)?this._options[t]:e}setOption(t,e){return this._options[t]=e}getPlayer(){return this._player}}c.prototype._options={},l(c.prototype,s.default);var u=c;i.default=u},{"./../utils/extend":132,"./../utils/unique":133,"./error":125,"./events":127,"core-js/modules/es6.object.assign":87}],124:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/es6.array.from"),t("core-js/modules/es6.regexp.to-string"),t("core-js/modules/es7.symbol.async-iterator"),t("core-js/modules/es6.symbol"),t("core-js/modules/web.dom.iterable");var s,r=(s=t("../../common/js/utils/getTime"))&&s.__esModule?s:{default:s};function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}const n=(0,r.default)();class a{constructor(){this._enabled=void 0,this._waitStack=[],this._lastTime=(0,r.default)(),this._mode=a.MODE_NORMAL}enable(){if(void 0===this._enabled){this._enabled=!0;let t=this._waitStack;for(let e=0;e<t.length;e++)this._call.apply(this,t[e]);this._waitStack=[]}else this._enabled=!0}set mode(t){this._mode=t===a.MODE_NORMAL?a.MODE_NORMAL:a.MODE_STACKTRACE}get mode(){return this._mode}disable(){this._enabled=!1,this._waitStack=[]}_waitCall(t,e){this._waitStack.push(arguments)}_call(t,e){if(void 0===this._enabled)return this._waitCall(t,e);if(!this._enabled)return;let i=Array.prototype.slice.apply(e),s=(0,r.default)(),l=(s-n)/1e3,c=(s-this._lastTime)/1e3;if(this._mode===a.MODE_STACKTRACE){const e="---- ["+l.toFixed(5)+" | +"+c.toFixed(5)+"]";var u;if(this._lastTime=s,["log","info"].indexOf(t)>=0)(u=console).groupCollapsed.apply(u,[e].concat(o(i))),console.trace(),console.groupEnd();else console[t].apply(console,i)}else i.unshift("---- ["+l.toFixed(5)+" | +"+c.toFixed(5)+"]"),this._lastTime=s,console[t].apply(console,i)}log(){this._call("log",arguments)}dir(){this._call("dir",arguments)}info(){this._call("info",arguments)}error(){this._call("error",arguments)}warn(){this._call("warn",arguments)}trace(){this._call("trace",arguments)}}a.MODE_NORMAL=0,a.MODE_STACKTRACE=1;var l=new a;i.default=l},{"../../common/js/utils/getTime":115,"core-js/modules/es6.array.from":84,"core-js/modules/es6.regexp.to-string":96,"core-js/modules/es6.symbol":99,"core-js/modules/es7.symbol.async-iterator":102,"core-js/modules/web.dom.iterable":103}],125:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,r=(s=t("./event"))&&s.__esModule?s:{default:s};var o=class extends r.default{constructor(t,e,i="",s={}){s.code=e,s.message=i,super(t,"error",s)}};i.default=o},{"./event":126}],126:[function(t,e,i){"use strict";function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/es6.object.assign");var r=class{constructor(t,e,i){this.target=t,this.player=t.getPlayer?t.getPlayer():void 0,this.type=e,"string"==typeof i?this.strData=i:(this.strData=null,s(this,i))}};i.default=r},{"core-js/modules/es6.object.assign":87}],127:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/es7.array.includes"),t("core-js/modules/es6.string.includes"),t("core-js/modules/web.dom.iterable"),t("core-js/modules/es6.array.iterator"),t("core-js/modules/es6.object.keys"),t("core-js/modules/es6.regexp.split");var s=o(t("./../utils/unique")),r=o(t("./event"));function o(t){return t&&t.__esModule?t:{default:t}}const n=function(t,e,i,s){if(!i)return!0;if("object"==typeof i){for(let r in i)i.hasOwnProperty(r)&&t[e].apply(t,[r,i[r]].concat(s));return!1}if(/\s+/.test(i)){const r=i.split(/\s+/);for(let i of r)t[e].apply(t,[i].concat(s));return!1}return!0},a={on(t,e,i){if(Array.isArray(e)){for(let s of e)this.on(t,s,i);return}if(!n(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});const s=this._events[t]||(this._events[t]=[]);if(this.addEventListener){const s=e;e=(e=>{s.call(i||this,new r.default(i||this,t,{originalEvent:e}))}),this.addEventListener(t,e)}return s.push({callback:e,context:i,ctx:i||this}),this},once(t,e,i){if(!n(this,"once",t,[e,i])||!e)return this;let s=this;const r=function i(){return s.off(t,i),e.apply(this,arguments)};return r._callback=e,this.on(t,r,i)},off(t,e,i){if(!this._events||!n(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;let s=t?Array.isArray(t)?t:[t]:Object.keys(this._events);for(let t of s){let s=this._events[t];if(s){let r=[];if(this._events[t]=r,e||i)for(let o of s)e&&e!==o.callback&&e&&e!==o.callback._callback||i&&i!==o.context?r.push(o):this.removeEventListener&&this.removeEventListener(t,o.callback);r.length||delete this._events[t]}}return this},trigger(t,e){if(!this._events)return this;if("object"==typeof t&&(t=(e=t).type),!n(this,"trigger",t,e))return this;if(this.eventIsMuted(t))return!1;const i=this._events[t];return!i||(e instanceof r.default||(e=new r.default(this,t,e)),e.currentTarget=this,function(t,e){let i=!0;for(let s of t)try{!1===s.callback.call(s.ctx,e)&&(i=!1)}catch(t){setTimeout(function(){throw t},0)}return i}(i,e))},triggerOnce(t,e){return void 0===this._triggeredOnce&&(this._triggeredOnce=[]),!this._triggeredOnce.includes(t)&&(this._triggeredOnce.push(t),this.trigger(t,e))},resetTriggeredOnce(t=null){this._triggeredOnce=t?this._triggeredOnce.filter(e=>e===t):[]},muteEvents(...t){if(void 0===this._mutedEvents&&(this._mutedEvents=[]),void 0===this._mutedAllEvents&&(this._mutedAllEvents=!1),t)for(let e of t)!1===this.eventIsMuted(e)&&"string"==typeof e&&this._mutedEvents.push(e);else this._mutedAllEvents=!0,this._mutedEvents=[]},unMuteEvents(...t){if(void 0===this._mutedEvents&&(this._mutedEvents=[]),void 0===this._mutedAllEvents&&(this._mutedAllEvents=!1),t){this._mutedAllEvents&&(this._mutedAllEvents=!1,this._mutedEvents=this._events?Object.keys(this._events):[]);for(let e of t)!0===this.eventIsMuted(e)&&"string"==typeof e&&(this._mutedEvents=this._mutedEvents.filter(t=>t!==e))}else this._mutedAllEvents=!0,this._mutedEvents=[]},eventIsMuted(t){return void 0===this._mutedEvents&&(this._mutedEvents=[]),void 0===this._mutedAllEvents&&(this._mutedAllEvents=!1),this._mutedAllEvents||this._mutedEvents.includes(t)},stopListening(t,e,i){let s=this._listeningTo;if(!s)return this;const r=!e&&!i;i||"object"!=typeof e||(i=this),t&&(s={[t._listenId]:t});for(let o in s)s.hasOwnProperty(o)&&(void 0!==(t=s[o]).off&&t.off(e,i,this),(r||0===t._events.length)&&delete this._listeningTo[o]);return this}},l={listenTo:"on",listenToOnce:"once"};for(let t in l)l.hasOwnProperty(t)&&function(t,e){a[e]=function(e,i,r){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=(0,s.default)())]=e,r||"object"!=typeof i||(r=this),e[t](i,r,this),this}}(l[t],t);var c=a;i.default=c},{"./../utils/unique":133,"./event":126,"core-js/modules/es6.array.iterator":85,"core-js/modules/es6.object.keys":88,"core-js/modules/es6.regexp.split":95,"core-js/modules/es6.string.includes":97,"core-js/modules/es7.array.includes":100,"core-js/modules/web.dom.iterable":103}],128:[function(t,e,i){(function(e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/es6.regexp.split");var s=new class{constructor(t={}){this.name=t&&void 0!==t.name?t.name:null,this.version=t&&void 0!==t.version?t.version:null,this.versionNumber=t&&void 0!==t.versionNumber?t.versionNumber:null,this.os=t&&void 0!==t.os?t.os:null,this.major=t&&void 0!==t.major?t.major:null,this.minor=t&&void 0!==t.minor?t.minor:null,this.patch=t&&void 0!==t.patch?t.patch:null,this.isOld=t&&void 0!==t.isOld?t.isOld:null,this.isBot=t&&void 0!==t.isBot?t.isBot:null}}(function(){let i=function(){return"undefined"==typeof navigator&&void 0!==e?{name:"node",version:e.version.slice(1),os:t("os").type().toLowerCase()}:null},s=function(t){let e=r();if(!t)return null;let i=e.map(function(e){const i=e.rule.exec(t);let s=i&&i[1].split(/[._]/).slice(0,3);return s&&s.length<3&&(s=s.concat(1===s.length?[0,0]:[0])),i&&{name:e.name,version:s.join("."),versionNumber:parseFloat(s),major:s&&s.length>0&&parseInt(s[0],10),minor:s&&s.length>1&&parseInt(s[1],10),patch:s&&s.length>2&&parseInt(s[2],10)}}).filter(Boolean)[0]||null;return i.os=i?function(t){let e=o().filter(function(e){return e.rule&&e.rule.test(t)})[0];return e?e.name:null}(t):"unknown",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(t)?(i=i||{}).isBot=!0:i.isBot=!1,"ie"===i.name&&i.versionNumber<10||"chrome"===i.name&&i.versionNumber<48||"firefox"===i.name&&i.versionNumber<10||"safari"===i.name&&i.versionNumber<7||"opera"===i.name&&i.versionNumber<11?i.isOld=!0:i.isOld=!1,i},r=function(){return n([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\ ([0-9\.]+)/]])},o=function(){return n([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]])},n=function(t){return t.map(function(t){return{name:t[0],rule:t[1]}})};return function(){let t=i();return t||("undefined"!=typeof navigator?s(navigator.userAgent):null)}()}());i.default=s}).call(this,t("_process"))},{_process:112,"core-js/modules/es6.regexp.split":95,os:111}],129:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,r=(s=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(s.substr(0,4)));i.default=r},{}],130:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){return r.default.warn("catch in promise",t)};var s,r=(s=t("../core/console"))&&s.__esModule?s:{default:s}},{"../core/console":124}],131:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/es6.regexp.replace"),t("core-js/modules/es6.regexp.constructor");var s,r=(s=t("./../core/events"))&&s.__esModule?s:{default:s};if(Element.prototype.on=r.default.on,Element.prototype.off=r.default.off,Element.prototype.once=r.default.once,window.HTMLDocument?(HTMLDocument.prototype.on=r.default.on,HTMLDocument.prototype.once=r.default.once,HTMLDocument.prototype.off=r.default.off):(document.on=r.default.on,document.once=r.default.once,document.off=r.default.off),window.Window?(Window.prototype.on=r.default.on,Window.prototype.once=r.default.once,Window.prototype.off=r.default.off):(window.on=r.default.on,window.once=r.default.once,window.off=r.default.off),Element&&!Element.prototype.matches){let t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){let e=document.querySelectorAll(t),i=this;return Array.prototype.some.call(e,function(t){return t===i})}}let o={"&":"&amp;","<":"&lt;",">":"&gt;"},n=function(t){return o[t]||t};const a=function t(e,i){let s,r,o,n;if(!(this instanceof t))return new t(e,i);if(this.length=0,"object"!=typeof e&&"<"===e[0]){let t=document.createElement("div");for(t.innerHTML=""+e,s=0;s<t.childNodes.length;s++)this[this.length++]=t.childNodes[s]}else if("object"==typeof e)this[0]=e,this.length=1;else if("function"==typeof e&&e.nodeName)this[0]=e,this.length=1;else if(i instanceof t){for(s=0;s<i.length;s++)if(i[s].nodeType!==Node.TEXT_NODE)if(i[s].matches&&i[s].matches(e))this[this.length++]=i[s];else for(n=new t(e,i[s]),o=0;o<n.length;o++)this[this.length++]=n[o]}else if((i=i||document).querySelectorAll&&(n=i.querySelectorAll(e))){for(s=0,r=n.length;s<r;s++)this[s]=n[s];this.length=n.length}};a.prototype={html(t){if(0===arguments.length)return this[0].innerHTML;for(let e=0,i=this.length;e<i;e++)this[e].innerHTML=t;return this},empty(){return this.html("")},width(){if(this.length>0){let t=this[0].getBoundingClientRect();return t.right-t.left}return!1},height(){if(this.length>0){let t=this[0].getBoundingClientRect();return t.bottom-t.top}return!1},addClass(t){if(!t)return this;let e=new RegExp("(^|\\s)"+t+"(\\s|$)","g");for(let i=0,s=this.length;i<s;i++){if(e.test(this[i].className))return;this[i].className=(this[i].className+" "+t).replace(/\s+/g," ").replace(/(^ | $)/g,"")}return this},removeClass(t){if(!t)return this;let e=new RegExp("(^|\\s)"+t+"(\\s|$)","g");for(let t=0,i=this.length;t<i;t++)this[t].className=this[t].className.replace(e,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"");return this},hasClass(t){if(!t)return this;t=" "+t+" ";for(let e=0,i=this.length;e<i;e++)if((" "+this[e].className+" ").replace(/\s+/g," ").indexOf(t)>-1)return!0;return!1},prepend(t){for(let e=0,i=t.length;e<i;e++)for(let i=0,s=this.length;i<s;i++)if(t[e].nodeType!==Node.TEXT_NODE){let s=this[i];s.parentNode&&s.parentNode.insertBefore(t[e],s)}return this},append(t){if(!t)return this;for(let e=0,i=t.length;e<i;e++)for(let i=0,s=this.length;i<s;i++)t[e].nodeType!==Node.TEXT_NODE&&this[i].appendChild(t[e]);return this},remove(){this.detach();for(let t=0,e=this.length;t<e;t++)this[t].off&&this[t].off();return this},detach(){for(let t=0,e=this.length;t<e;t++)this[t].parentElement&&this[t].parentElement.removeChild(this[t]);return this},parent(){let t,e,i;for(e=0,i=this.length;e<i;e++)if(this[e].parentElement){t=new a(this[e].parentElement);break}return t},css(t,e){let i;for(i in"string"==typeof t&&((i=[])[t]=e,t=i),t)if(t.hasOwnProperty(i))for(let e=0,s=this.length;e<s;e++)this[e].style[i]=t[i];return this},attr(t,e){if(!e&&"string"==typeof t&&this.length>0)return this[0].getAttribute(t);let i;for(i in"string"==typeof t&&((i=[])[t]=e,t=i),t)if(t.hasOwnProperty(i))for(let e=0,s=this.length;e<s;e++)this[e].setAttribute(i,t[i]);return this},prop(t,e){let i;for(i in"string"==typeof t&&((i=[])[t]=e,t=i),t)if(t.hasOwnProperty(i))for(let e=0,s=this.length;e<s;e++)this[e][i]=t[i];return this},once(t,e,i){for(let s=0,r=this.length;s<r;s++)this[s].once(t,e,i);return this},on(t,e,i){for(let s=0,r=this.length;s<r;s++)this[s].on(t,e,i);return this},off(t,e,i){for(let s=0,r=this.length;s<r;s++)this[s].off(t,e,i);return this},focus(){for(let t=0,e=this.length;t<e;t++)this[t].focus();return this},blur(){for(let t=0,e=this.length;t<e;t++)this[t].blur();return this},find(t){return new a(t,this)},text(t){if(0===arguments.length)return this[0].textContent;this.html(a.escape(t))},show(){this.nsRemoveClass("hidden")},hide(){this.nsAddClass("hidden")},splice(t,e){let i,s=Array.prototype.slice.call(this);for(s.splice(t,e),i=0;i<this.length;i++)delete this[i];for(i=0;i<s.length;i++)this[i]=s[i];return this.length=s.length,this},nsCreateClass(t,e=!1){let i=`${a._ns}-${t}`;return e&&(i+=`__${e}`),i},nsHasClass(t,e=!1){return this.hasClass(this.nsCreateClass(t,e))},nsAddClass(t,e=!1){return this.addClass(this.nsCreateClass(t,e))},nsRemoveClass(t,e=!1){return this.removeClass(this.nsCreateClass(t,e))},nsFind(t,e=!1){return new a("."+this.nsCreateClass(t,e),this)}},a.escape=function(t){return String(t).replace(/[&<>]/g,n)},a.setNs=function(t){a._ns=t},a.getNs=function(){return a._ns};var l=a;i.default=l},{"./../core/events":127,"core-js/modules/es6.regexp.constructor":90,"core-js/modules/es6.regexp.replace":93}],132:[function(t,e,i){"use strict";function s(t){return!!(t instanceof Date||t instanceof RegExp)}function r(t){if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);throw new Error("Unexpected situation")}function o(t){let e=[];return t.forEach(function(t,i){"object"==typeof t&&null!==t?Array.isArray(t)?e[i]=o(t):s(t)?e[i]=r(t):e[i]=n({},t):e[i]=t}),e}Object.defineProperty(i,"__esModule",{value:!0}),i.clone=i.default=void 0,t("core-js/modules/es6.array.iterator"),t("core-js/modules/es6.object.keys"),t("core-js/modules/web.dom.iterable"),t("core-js/modules/es6.regexp.constructor");let n=function t(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];let e,i,n=arguments[0];return Array.prototype.slice.call(arguments,1).forEach(function(a){"object"!=typeof a||Array.isArray(a)||Object.keys(a).forEach(function(l){return i=n[l],(e=a[l])===n?void 0:"object"!=typeof e||null===e?void(n[l]=e):Array.isArray(e)?void(n[l]=o(e)):s(e)?void(n[l]=r(e)):"object"!=typeof i||null===i||Array.isArray(i)?void(n[l]=t({},e)):void(n[l]=t(i,e))})}),n};var a=n;i.default=a;i.clone=function(t){return t instanceof Array?n({},{result:t}).result:n({},t)}},{"core-js/modules/es6.array.iterator":85,"core-js/modules/es6.object.keys":88,"core-js/modules/es6.regexp.constructor":90,"core-js/modules/web.dom.iterable":103}],133:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t="id"){return t+(++s+"")};let s=0},{}],134:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/es6.regexp.replace"),t("core-js/modules/es6.regexp.split");var s,r=(s=t("http-build-query"))&&s.__esModule?s:{default:s};var o={parse(t){let e=document.createElement("a");return e.href=t,e},parseSearch(t){t=t.replace(/^\?/,"").split("&");let e={};for(let i=0;i<t.length;i++)t[i]=t[i].split("="),1===t[i].length&&t[i].push(""),e[decodeURIComponent(t[i][0])]=decodeURIComponent(t[i][1]);return e},getHostname(t){return this.parse(t).hostname},buildQuery:t=>(0,r.default)(t)};i.default=o},{"core-js/modules/es6.regexp.replace":93,"core-js/modules/es6.regexp.split":95,"http-build-query":110}],135:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Mvpt=void 0,t("core-js/modules/es6.regexp.match"),t("core-js/modules/es6.promise"),t("../../common/polyfill/index");var s=p(t("./utils/units")),r=p(t("./settings/config")),o=p(t("./utils/stat-kibana")),n=t("./manager/AutorollManager"),a=t("./manager/AutorollManualManager"),l=t("./manager/OverrollManager"),c=t("./manager/AudiorollManager"),u=t("./manager/VideoBannerManager"),h=p(t("../../player/core/base-object")),d=p(t("../../player/env/browser"));t("../../../config/player-version");var f=p(t("../../player/utils/catchHandler"));function p(t){return t&&t.__esModule?t:{default:t}}const _=window.moevideo||{};class m extends h.default{constructor(){super(null),"function"!=typeof _.ContentRoll&&(window.moevideo=_,this.state="loading",this._time=Date.now(),this._stepUpdate=0,this._onUpdate=this._onUpdate.bind(this),this._init())}_init(){this._listingErrors(),this._initManagers(),this._userCheck(this._userInfo())&&this._waitDOMContentLoaded().then(()=>{this._onUpdate(),document.addEventListener("visibilitychange",this._onUpdate),this._callQueue()}).catch(t=>(0,f.default)(t))}get state(){return this._state}set state(t){t!==this._state&&(this._state=t,this.trigger("stateChange",{state:t}))}_userInfo(){return this.isBot=d.default.isBot,this.browser=d.default.name,this.browserVersion=d.default.version,this.oldBrowser=d.default.isOld,{isBot:this.isBot,browser:this.browser,browserVersion:this.browserVersion,oldBrowser:this.oldBrowser}}_userCheck(t){return!(t.isBot||t.oldBrowser)}_callQueue(){if(this.state="ready",this.trigger("ready"),"undefined"!=typeof moevideoQueue&&Array.isArray(moevideoQueue))for(let t of moevideoQueue)"function"==typeof t&&t();if(window.moevideoQueue={push(t){t()}},void 0!==_.queue&&Array.isArray(_.queue))for(let t of _.queue)"function"==typeof t&&t();_.queue={push(t){t()}}}_initManagers(){this._managers={auto:new n.AutorollManager(this,"auto"),manual:new a.AutorollManualManager(this,"manual"),focus:new l.OverrollManager(this,"focus"),click:new l.OverrollManager(this,"click"),audio:new c.AudiorollManager(this,"audio"),banner:new u.VideoBannerManager(this,"banner")},_.ContentRoll=_.OverRoll=_.AudioRoll=(t=>{this._managers[t.mode].createRoll(t)}),_.VideoBanner=(t=>{this._managers.banner.createRoll(t)}),_.InBoard=(t=>{this._managers.banner.createRoll(t)})}_waitDOMContentLoaded(){return new Promise((t,e)=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()})}_onUpdate(){let t=Date.now(),e=t-this._time,i=1e3/r.default.STEP_UPDATE;if(this._time=t,this._stepUpdate+=e,this._stepUpdate>=i){this._stepUpdate-=i;let r=s.default.getRolls().length;for(let o=0;o<r;o++){let r=s.default.getRolls()[o];r&&r.action(i,e,t)}}window.requestAnimationFrame(this._onUpdate)}_listingErrors(){window.addEventListener("error",function(t){null!=t.filename.match(r.default.SCRIPT_NAME)&&(o.default.errorTotal={file:t.filename,message:t.message,line:t.lineno},o.default.sendError())})}}i.Mvpt=m,window.MVPT=m},{"../../../config/player-version":1,"../../common/polyfill/index":120,"../../player/core/base-object":123,"../../player/env/browser":128,"../../player/utils/catchHandler":130,"./manager/AudiorollManager":136,"./manager/AutorollManager":137,"./manager/AutorollManualManager":138,"./manager/OverrollManager":141,"./manager/VideoBannerManager":142,"./settings/config":152,"./utils/stat-kibana":157,"./utils/units":160,"core-js/modules/es6.promise":89,"core-js/modules/es6.regexp.match":92}],136:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AudiorollManager=void 0,t("core-js/modules/es6.promise");var s=l(t("../utils/units")),r=t("../utils/message"),o=t("../rolls/audio-roll"),n=t("./BaseManager"),a=l(t("../../../player/utils/catchHandler"));function l(t){return t&&t.__esModule?t:{default:t}}i.AudiorollManager=class extends n.BaseManager{_autoplaySupported(){let e=new Promise((e,i)=>{t("detect-audio-autoplay")(function(t){t?e():i()})});return this._autoplaySupported=function(){return e},e}_doRollCreation(t){if(s.default.detectAliensElements(!0)>0)return void r.unitMessage.isAliens();let e,i;(e=t.el?document.getElementById(t.el)||document.querySelector(t.el):document.querySelector("audio"))||!t.el?"AUDIO"==e.tagName?this._autoplaySupported().then(()=>{i=new o.AudioRoll(t),s.default.push(i),i.initCreate(e),i.initGet(),i.styleInit(),i.state="wait"}).catch(t=>(0,a.default)(t)):r.unitMessage.invalidRule():r.unitMessage.missElement(t.el)}}},{"../../../player/utils/catchHandler":130,"../rolls/audio-roll":144,"../utils/message":155,"../utils/units":160,"./BaseManager":139,"core-js/modules/es6.promise":89,"detect-audio-autoplay":106}],137:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AutorollManager=void 0,t("core-js/modules/es6.array.sort");var s=c(t("../utils/units")),r=t("../utils/message"),o=c(t("../settings/config")),n=t("./BaseManager"),a=t("../rolls/content-roll-2"),l=c(t("../../../player/utils/extend"));function c(t){return t&&t.__esModule?t:{default:t}}i.AutorollManager=class extends n.BaseManager{_prepareRollOptions(t){this._createdAutoroll&&(r.unitMessage.invalidRule(),this._validateError("invalidRule")),super._prepareRollOptions(t),s.default.checkInstancesOverflow()||(r.unitMessage.overflow(),this._validateError("Overflow"))}_doRollCreation(t){if(s.default.detectAliensElements(t.ignorePlayers)>0)return void r.unitMessage.isAliens();let e;this._createdAutoroll=!0;let i,n,c=[],u=[],h=document.body,d=o.default.DEFAULT_MIN_CHAR_SIZE;if(!t.el||(h=document.getElementById(t.el)||document.querySelector(t.el)))if(t.chars&&(t.chars=parseInt(t.chars),t.chars>d&&(d=t.chars)),(i=s.default.searchTextElement(h,c)).chars>=d&&i.isLegal){i.el=s.default.getBlockParent(i.el),i.y=s.default.getBottomYPosition(i.el),u.push(i);for(let t=c.length-1;t>=0;t--)(n=c[t]).chars>=d&&(n.el=s.default.getBlockParent(n.el),n.y=s.default.getBottomYPosition(n.el),u.push(n));u.sort(function(t,e){return t.y-e.y});let r=-document.body.scrollTop||-document.documentElement.scrollTop,h=0,f=0,p=parseInt(t.count)||1,_=0;for(;u[f]&&p>0&&s.default.checkInstancesOverflow();)(h=u[f].y)-r>=o.default.START_VIEWPORT_HEIGHT&&((e=new a.ContentRoll2("content",u[f].el,_>0?(0,l.default)({},t,{flyDisabled:!0}):t)).playerProxy.setSrc(e.fullUrl),s.default.push(e),r=u[f].y,p--,_++),f++}else r.unitMessage.invalidRule();else r.unitMessage.missElement(t.el)}}},{"../../../player/utils/extend":132,"../rolls/content-roll-2":147,"../settings/config":152,"../utils/message":155,"../utils/units":160,"./BaseManager":139,"core-js/modules/es6.array.sort":86}],138:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AutorollManualManager=void 0,t("core-js/modules/web.dom.iterable"),t("core-js/modules/es6.promise");var s=a(t("../utils/units")),r=t("../utils/message"),o=a(t("./BaseManualManager")),n=t("../rolls/content-roll-2");function a(t){return t&&t.__esModule?t:{default:t}}i.AutorollManualManager=class extends o.default{_prepareRollOptions(t){super._prepareRollOptions(t),s.default.checkInstancesOverflow()||(r.unitMessage.overflow(),this._validateError("Overflow"))}_doRollCreation(t){if(s.default.detectAliensElements(t.ignorePlayers)>0)return void r.unitMessage.isAliens();let e=this._getElement(t);e?this._insertInDOM(e,t):this._waitElement(t.el,document.querySelector(t.observeEl)).then(()=>{this._insertInDOM(this._getElement(t),t)}).catch(()=>{this._missElement(t)})}_insertInDOM(t,e){if(!s.default.checkWrapExist(t))return void r.unitMessage.overMatch();let i=new n.ContentRoll2("content",t,e);i.playerProxy.setSrc(i.fullUrl),s.default.push(i)}_waitElement(t,e){return new Promise((i,s)=>{try{const r=e||document;let o=new MutationObserver((e,s)=>{e.forEach(e=>{e.target.querySelector(t)&&(i(),s.disconnect())})}),n={childList:!0,subtree:!0};o.observe(r,n)}catch(t){s(t)}})}}},{"../rolls/content-roll-2":147,"../utils/message":155,"../utils/units":160,"./BaseManualManager":140,"core-js/modules/es6.promise":89,"core-js/modules/web.dom.iterable":103}],139:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseManager=void 0;var s=t("../utils/message");i.BaseManager=class{constructor(t,e){this._readyStateLoaded=!1,this._mode=e,this._stack=[],"loading"===t.state&&t.once("ready",this._onMvptReady,this)}_onMvptReady(){let t=this._stack;this._readyStateLoaded=!0;for(let e=0;e<t.length;e++)this._doRollCreation(t[e]);this._stack=[]}createRoll(t){try{this._prepareRollOptions(t)}catch(t){return console.warn(t.message),!1}return this._readyStateLoaded?this._doRollCreation(t):this._stack.push(t),!0}_validateError(t){throw new Error(t)}_prepareRollOptions(t){t.mode!=this.mode&&(s.unitMessage.invalidRule(),this._validateError("Invalid mode"))}_doRollCreation(){}get mode(){return this._mode}}},{"../utils/message":155}],140:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=t("../utils/message"),r=t("./BaseManager");let o=0;var n=class extends r.BaseManager{_prepareRollOptions(t){super._prepareRollOptions(t),t.el||t.insertAfter||(s.unitMessage.invalidRule(),this._validateError("invalidRule"))}_getElement(t){let e=null,i=void 0!==t.insertAfter&&t.insertAfter;if(i){let s=void 0!==t.insertPosition?parseInt(t.insertPosition):0,r=document.querySelectorAll(i);if(r&&r.length>0){let t=r[Math.max(0,Math.min(r.length-1,s))];(e=document.createElement("div")).setAttribute("id","mv-native-"+ ++o),t.parentNode.insertBefore(e,t.nextSibling)}}else e=document.getElementById(t.el)||document.querySelector(t.el);return e}_missElement(t){s.unitMessage.missElement(void 0!==t.insertAfter?t.insertAfter+"["+(void 0!==t.insertPosition?t.insertPosition:"0")+"]":t.el)}};i.default=n},{"../utils/message":155,"./BaseManager":139}],141:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.OverrollManager=void 0;var s,r=(s=t("../utils/units"))&&s.__esModule?s:{default:s},o=t("../utils/message"),n=t("../rolls/focus-roll"),a=t("../rolls/click-roll"),l=t("./BaseManager");i.OverrollManager=class extends l.BaseManager{_prepareRollOptions(t){super._prepareRollOptions(t),t.el||(o.unitMessage.invalidRule(),this._validateError("invalidRule")),r.default.checkInstancesOverflow()||(o.unitMessage.overflow(),this._validateError("overflow"))}_doRollCreation(t){let e,i,s,l;if(!1!==(l=document.getElementById(t.el)?"#":!!document.querySelector(t.el)&&""))for(let c=0,u=(e=document.querySelectorAll(l+t.el)).length;c<u;c++){if(!r.default.checkInstancesOverflow())return void o.unitMessage.overflow();if((i=e[c])==document.body)return void o.unitMessage.invalidRule();if(!r.default.checkWrapExist(i))return void o.unitMessage.overMatch();s="click"==t.mode?new a.OverClickRoll("over_click",t):new n.OverFocusRoll("over_focus",t),r.default.push(s),s.initCreate(i),s.initGet(),s.styleInit(),s.isClick=!1,"click"==t.mode&&s.playerProxy.setSrc(s.fullUrl),s.state="wait"}else o.unitMessage.missElement(t.el)}}},{"../rolls/click-roll":146,"../rolls/focus-roll":149,"../utils/message":155,"../utils/units":160,"./BaseManager":139}],142:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.VideoBannerManager=void 0;var s=a(t("../utils/units")),r=t("../utils/message"),o=t("../rolls/video-banner"),n=a(t("./BaseManualManager"));function a(t){return t&&t.__esModule?t:{default:t}}let l=0;i.VideoBannerManager=class extends n.default{_prepareRollOptions(t){++l>1&&(r.unitMessage.overflow(),this._validateError("Overflow"))}_doRollCreation(t){let e,i;if(e=this._getElement(t)){if(!s.default.checkWrapExist(e))return void r.unitMessage.overMatch();t.ignorePlayers=!0,t.mode="video_banner",t.visible=!0,(i=new o.VideoBannerRoll("video_banner",e,t)).isClick=!1,i.playerProxy.setSrc(i.fullUrl),s.default.push(i)}else this._missElement(t)}}},{"../rolls/video-banner":151,"../utils/message":155,"../utils/units":160,"./BaseManualManager":140}],143:[function(t,e,i){"use strict";var s,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};s.get||s.set?Object.defineProperty(e,i,s):e[i]=t[i]}return e.default=t,e}(t("../../core/loader/loader")),o=t("./main.js"),n=(s=t("../../player/utils/catchHandler"))&&s.__esModule?s:{default:s};r.default.runWithRightVersion(r.LOADER_FILES.FILE_MVPT).then(()=>{new o.Mvpt}).catch(t=>(0,n.default)(t))},{"../../core/loader/loader":122,"../../player/utils/catchHandler":130,"./main.js":135}],144:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AudioRoll=void 0;var s=a(t("../utils/units")),r=a(t("../settings/config")),o=t("./base-roll"),n=t("../utils/uniq");a(t("../../../player/utils/url"));function a(t){return t&&t.__esModule?t:{default:t}}i.AudioRoll=class extends o.BaseRoll{constructor(t){super(t),this.id=(0,n.uniq)("mv-audioroll"),this.slot="content_audio",this.timer=r.default.TIMER_WAIT,this.waist=0,this.waistReset=parseInt(t.timeout)?60*parseInt(t.timeout)*1e3:r.default.DEFAULT_BETWEEN_AUDIO,this.waistReset=Math.max(this.waistReset,r.default.DEFAULT_MIN_BETWEEN_AUDIO),this.waistReset=Math.min(this.waistReset,r.default.DEFAULT_MAX_BETWEEN_AUDIO)}initCreate(t){super.initCreate(t),document.body.appendChild(this.wrap)}initGet(){this.wrap=document.getElementById(this.id),this.lastAudioSrc=this.elNode.src;let t=this;this.defaultPlay=this.elNode?this.elNode.play:function(){},this.elNode.play=function(){let e=!0;t.lastAudioSrc!=t.elNode.src&&"about:blank"!=t.elNode.src?(t.lastAudioSrc=t.elNode.src,t.playerProxy.setSrc(""),t.state="wait"):"played"!=t.state&&(e=!1),t.waist>0?t.defaultPlay.call(t.elNode):("wait"==t.state?(e=!1,t.state="loading",t.timer=r.default.TIMER_WAIT,t.isPlayerReady=!1,t.isInventoryReady=!1,t.isSendInventory=!1,t.playerProxy.setSrc(t.fullUrl)):"played"!=t.state&&(e=!1),e&&t.defaultPlay.call(t.elNode))}}initFrame(){super.initFrame(),this.playerProxy.on({ready:t=>{this.sendInventory()},load:t=>{this.loadSuccess(),this.statistic.onEvent("load",t.playerId)},start:t=>{this.state="loaded",this.waist=this.waistReset,this.isInventoryReady=!0,this.sendInventory(),this.statistic.onEvent("start",t.playerId)},empty:t=>{this.isSendInventory=!0,this.loadError(),this.statistic.onEvent("empty",t.playerId),this.close(),this.statistic.onEvent("close",t.playerId),s.default.destroyUnitRollFromId(t.playerId)},error:t=>{this.isSendInventory=!0,this.loadError(),this.statistic.onEvent("empty",t.playerId),this.close(),this.statistic.onEvent("close",t.playerId),s.default.destroyUnitRollFromId(t.playerId)},close:t=>{this.close(),this.statistic.onEvent("close",t.playerId),s.default.destroyUnitRollFromId(t.playerId)},finish:t=>{this.close(),this.statistic.onEvent("view",t.playerId),s.default.destroyUnitRollFromId(t.playerId)}})}styleInit(){this.wrap.style.width=0,this.wrap.style.height=0,this.wrap.style.visibility="hidden",this.playerProxy.setStyle({position:"absolute",width:"1px",height:"1px"})}close(){this.state="played",this.playerProxy.setSrc(""),this.elNode&&this.defaultPlay.call(this.elNode)}action(t){switch(this.waist-=t,this.state){case"loading":this.timer-=t,this.timer<0&&(this.close(),s.default.destroyUnitRollFromId(this.id))}}}},{"../../../player/utils/url":134,"../settings/config":152,"../utils/uniq":159,"../utils/units":160,"./base-roll":145}],145:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.BaseRoll=void 0,t("core-js/modules/es6.object.assign"),t("core-js/modules/es6.array.sort");var s=d(t("../utils/units")),r=d(t("../settings/config")),o=t("../utils/statistic"),n=t("../utils/player-frame"),a=t("../utils/message"),l=t("../utils/uniq"),c=d(t("../../../player/core/events")),u=d(t("../../../core/loader/loader")),h=d(t("../../../player/utils/url"));function d(t){return t&&t.__esModule?t:{default:t}}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t}).apply(this,arguments)}class p{constructor(t){this.IS_DEBUG=r.default.IS_DEBUG,this.mode=t.mode,this.el=t.el?t.el:"body",this.visibility=r.default.DEFAULT_VISIBILITY,this.callback=t.callback?t.callback:t.passback?t.passback:function(){},"function"!=typeof this.callback&&(this.callback=function(){}),this.statusAdvert="unknown",this.onceShow=!1,this.isInventoryReady=!1,this.isPlayerReady=!1,this.isSendInventory=!1,this.state="ready",this.onPause=!1,this.waistInv=r.default.TIMER_WAIST_INVENTORY,this.observeVisibleRateChanges=!1,this._visibleRate=null,this._visibleRateCheckerDelay=500,this._visibleRateCheckerMsec=0,this._adStarted={},this._adFinished={},this._closeTimings={};const e=this;this.urlParams={get id(){return e.getId()},get slot(){return e.slot},api:"2.0",ref:t.ref?t.ref:window.location.host},"trafficPin"in t&&t.trafficPin&&(this.urlParams.mvpartner=t.trafficPin),"maxAds"in t&&t.maxAds&&(this.urlParams.maxAds=t.maxAds);const i=u.default.instance();this.url=t.url?t.url:r.default.DEFAULT_URL,i.nativeServer&&(this.url=i.nativeServer+"/native"),i.embedServer&&(this.urlParams.mvembedserv=i.embedServer),i.overrideVersion&&(this.urlParams.mvver=i.overrideVersion),i.isTest&&(this.urlParams.mvtest=i.isTest?"1":"0"),i.ref&&(this.urlParams.mvref=i.ref)}get fullUrl(){return this.url+"?"+h.default.buildQuery(this.urlParams)}getId(){return this._id||(this._id=(0,l.uniq)("mv-"+this.getRollName())),this._id}getRollName(){return"roll"}get state(){return this._state}set state(t){t!==this._state&&(this._state=t)}initCreate(t){this.wrap=document.createElement("div"),this.wrap.setAttribute("id",this.getId()),this.wrap.innerHTML="<div><div></div></div>",this.elNode=t,this.statistic=new o.StatisticRoll(this.getId()),this.initFrame()}skipCallback(t,e){switch(t){case"load":case"start":case"empty":return!1;case"error":return Boolean(this._adStarted[e])||Boolean(this._adFinished[e]);case"close":const i=t=>this._closeTimings[t]?this._closeTimings[t]:0;return(t=>t<100)(Date.now()-i(e))||Boolean(this._adFinished[e]);case"finish":return Boolean(this._adFinished[e]);case"adPayed":return!1;default:return!0}}runCallback(t,e){!1===this.skipCallback(t,e)&&this.callback(t,e)}initFrame(){this.playerProxy=new n.PlayerFrame,this.playerProxy.setAttrs({id:this.getId()+"-frame"}),this.playerProxy.on({ready:t=>{this.isPlayerReady=!0},load:t=>{this.runCallback("load",t.playerId)},start:t=>{this.runCallback("start",t.playerId),this._adStarted[t.playerId]=!0},empty:t=>{this.runCallback("empty",t.playerId)},error:t=>{this.runCallback("error",t.playerId)},close:t=>{this.runCallback("close",t.playerId),this._closeTimings[t.playerId]=Date.now()},finish:t=>{this.runCallback("finish",t.playerId),this._adFinished[t.playerId]=!0}})}initGet(){this.wrap=document.getElementById(this.getId());let t=this.wrap.getElementsByTagName("div")[0];this.targ={node:t,div:t.getElementsByTagName("div")[0]},this.targ.div.appendChild(this.playerProxy.getNode()),this.playerProxy.setAttrs({frameborder:"0",allowfullscreen:"",allow:"autoplay"})}styleInit(){this.wrap.style.padding="0",this.wrap.style.margin="0",this.wrap.style.display="block",this.wrap.style.overflow="hidden",this.wrap.style["text-align"]=this.align,this.wrap.style.float="none",this.wrap.style.clear="both",this.targ.node.style.padding="0",this.targ.node.style.margin="0",this.targ.node.style.display="inline-block",this.targ.node.style["background-color"]="black",this.targ.div.style.margin="0",this.targ.div.style.position="relative",this.targ.div.style.overflow="hidden",this.playerProxy.setStyle({border:"none",position:"absolute",width:"100%",height:"100%",top:"0",left:"0",padding:"0",margin:"0"})}loadSuccess(){this.statusAdvert="ready",a.unitMessage.sendInventory(),this.playerProxy.sendMessage("playAd",{slot:this.slot})}loadError(){this.statusAdvert="empty"}close(){window.setTimeout(()=>{!0===this.isSendInventory&&(this.wrap.style.display="none",this.targ.div.innerHTML="")},2*r.default.TRANSITION_DELAY)}checkCoverZone(t=null){t=t||this.targ.node;let e=this.getCoverZone(t);return 1===e?1:e>=r.default.CONTENT_VISIBILITY?0:2}getCoverZone(t=null){let e,i;t=t||this.targ.node,this.width=t.clientWidth,this.height=t.clientWidth*r.default.DEFAULT_ORIENTATION;let o,n,a,l,c,u=s.default.getPosition(t);if(e=[0,window.innerWidth,u.x,u.x+this.width],i=[0,window.innerHeight,u.y,u.y+this.height],e[1]<=e[2]||e[3]<=e[0]||i[1]<=i[2]||i[3]<=i[0])return 2;e.sort(function(t,e){return t-e}),i.sort(function(t,e){return t-e}),o=e[2]-e[1],n=i[2]-i[1];for(let t=0,s=3;t<s*s;t++){if(a=e[1]+1+t%s*(o/(s-1)-2),l=i[1]+1+(n/(s-1)-2)*Math.floor(t/s),(c=document.elementFromPoint(Math.round(a),Math.round(l)))!==this.playerProxy.getNode()&&c!==this.wrap)return 1;if(a=Math.random()*(o/s-2)+e[1]+1+o/s*(t%s),l=Math.random()*(n/s-2)+i[1]+1+n/s*Math.floor(t/s),(c=document.elementFromPoint(Math.round(a),Math.round(l)))!==this.playerProxy.getNode()&&c!==this.wrap)return 1}return o*n/(this.width*this.height)}getVisibleRate(t=null,e=!1){let i=t=t||this.targ.node,r=i.clientWidth,o=i.clientHeight,n=window.innerHeight,a=window.innerWidth,l=s.default.getPosition(i),c=Math.round(10*l.y/o)/10,u=-Math.round(10*(l.y+this.height-n)/this.height)/10,h=Math.round(10*l.x/r)/10,d=-Math.round(10*(l.x+this.width-a)/this.width)/10,f=1,p=1;c<0&&(f+=c),u<0&&(f+=u),h<0&&(p+=h),d<0&&(p+=d);let _=Math.min(p,f);return e?{rate:_,rateX:p,rateY:f,top:c,bottom:u,left:h,right:d}:_}isVisibleZone(){return this.getVisibleRate()>this.visibility}sendInventory(){!0===this.isPlayerReady&&!0===this.isInventoryReady&&!1===this.isSendInventory&&(this.isSendInventory=!0,this.playerProxy.sendMessage("inventory",{slot:this.slot}))}action(t,e,i){if(this.observeVisibleRateChanges&&(this._visibleRateCheckerMsec-=e,this._visibleRateCheckerMsec<0)){this._visibleRateCheckerMsec=this._visibleRateCheckerDelay;let t=this._visibleRate;this._visibleRate=this.getVisibleRate(),t!==this._visibleRate&&this.sendVisibleRateChange(t)}}sendVisibleRateChange(t){this.playerProxy.sendMessage("visibleRateChange",{visibleRate:this._visibleRate,lastVisibleRate:t})}}i.BaseRoll=p,f(p.prototype,c.default)},{"../../../core/loader/loader":122,"../../../player/core/events":127,"../../../player/utils/url":134,"../settings/config":152,"../utils/message":155,"../utils/player-frame":156,"../utils/statistic":158,"../utils/uniq":159,"../utils/units":160,"core-js/modules/es6.array.sort":86,"core-js/modules/es6.object.assign":87}],146:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.OverClickRoll=void 0;var s=n(t("../utils/units")),r=n(t("../settings/config")),o=t("./over-roll");function n(t){return t&&t.__esModule?t:{default:t}}i.OverClickRoll=class extends o.OverRoll{constructor(t,e){super(e),this.slot=t,this.isSendInventory=!0}initFrame(){super.initFrame();let t=this.id;this.playerProxy.on({ready(e){t=e.playerId},load:()=>{this.loadSuccess(),this.statistic.onEvent("load",t)},start:()=>{this.state="show",this.spinner.style.display="none",this.statistic.onEvent("start",t)},visible:()=>{this.state="show",this.spinner.style.display="none",this.play()},waiting:()=>{this.state="loading",this.spinner.style.display="block"},empty:()=>{this.isSendInventory=!0,this.loadError(),this.statistic.onEvent("empty",t),this.close(),this.statistic.onEvent("close",t),s.default.destroyUnitRollFromId(t)},error:()=>{this.isSendInventory=!0,this.loadError(),this.statistic.onEvent("empty",t),this.close(),this.statistic.onEvent("close",t),s.default.destroyUnitRollFromId(t)},close:()=>{this.close(),this.statistic.onEvent("close",t),s.default.destroyUnitRollFromId(t)},finish:()=>{this.close(),this.statistic.onEvent("view",t),s.default.destroyUnitRollFromId(t)}})}loadSuccess(){this.statusAdvert="ready"}action(t){switch(this.isOverLegal(),this.state){case"wait":if(this.timer-=t,this.timer<0)return this.close(),void s.default.destroyUnitRollFromId(this.id);if("empty"===this.statusAdvert)return this.spinner.style.display="none",this.close(),void s.default.destroyUnitRollFromId(this.id);"ready"===this.statusAdvert&&(this.spinner.style.display="none",this.timer=r.default.TIMER_WAIT,this.state="waitForClick");break;case"loading":if(this.timer-=t,this.timer<0)return this.close(),void s.default.destroyUnitRollFromId(this.id);break;case"show":if(s.default.isFocus()||this.statistic.onEvent("focus",this.id),!this.playerProxy.isVisible())return void this.statistic.onEvent("display",this.id);let e=this.checkCoverZone();1===e?this.statistic.onEvent("coverage",this.id):2===e&&this.statistic.onEvent("focus",this.id)}}}},{"../settings/config":152,"../utils/units":160,"./over-roll":150}],147:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ContentRoll2=void 0,t("core-js/modules/es6.promise");var s=t("./fly-roll"),r=t("../utils/dom"),o=l(t("../utils/units")),n=l(t("../settings/config")),a=t("../../../common/js/utils/waitHelper");function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e,i,s,r,o,n){try{var a=t[o](n),l=a.value}catch(t){return void i(t)}a.done?e(l):Promise.resolve(l).then(s,r)}const u=200,h=`all ${u}ms linear`;i.ContentRoll2=class extends s.FlyRoll{constructor(t,e,i){super(t,e,i),this.LOG_PREFIX="CR: Roll: ",this.floatMode="floatMode"in i?i.floatMode:s.FLOAT_MODES.BOTTOM,this.flyEnabled="flyEnabled"in i!=="undefined"&&!!i.flyEnabled,this.propFlyDisabled="flyDisabled"in i!=="undefined"&&!!i.flyDisabled,this.expandAtStart="visible"in i&&!!i.visible,this.notCollapse="notCollapse"in i&&i.notCollapse,this._log2("constructor"),this.observeVisibleRateChanges=!1,setTimeout(()=>{this.loadPlayer().then(()=>{this.playPlayer(),this.observeVisibleRateChanges=!0}).catch(()=>{this.expandAtStart&&this.close(!0)}),this.on("VisibleRateChange",t=>{if(!1===this.collapsed)return;let e=t.visibleRate,i=!!e.last&&e.last.rate>this.visibility,s=e.current.rate>this.visibility;!1===i&&!0===s&&(this._needExpand=!0)}),this.expandAtStart&&setTimeout(()=>{this._needExpand=!0,this._play()})},100)}initFrame(){let t=this.getId();this.playerProxyEvents.playerOptions=(t=>{if(this.propFlyDisabled)return;let e=this.flyEnabled;this.flyEnabled=!!t.playerOptions.plugins.backend.flyroll,e&&!this.flyEnabled&&this.viewFull(!1)});let e=e=>{this.runCallback(e,t)};this.playerProxyEvents.visible=(()=>{this._log2("playerProxy on visible"),this.state="loaded",this.isPlayerReady&&(this.isInventoryReady=!0,this.sendInventory()),this.statistic.onEvent("start",t)}),this.playerProxyEvents.start=(()=>{this._log2("playerProxy on start"),e("start"),this.statistic.onEvent("start",t),this._adStarted[t]=!0}),this.playerProxyEvents.empty=(()=>{this._log2("playerProxy on empty"),e("empty"),this.isSendInventory=!0,this.loadError(),this.statistic.onEvent("empty",t),this.close(),this.statistic.onEvent("close",t),o.default.destroyUnitRollFromId(t)}),this.playerProxyEvents.error=(()=>{this._log2("playerProxy on error"),e("error"),this.statistic.onEvent("empty",t)}),this.playerProxyEvents.close=(()=>{this._log2("playerProxy on close"),e("close"),this.statistic.onEvent("close",t),this._closeTimings[t]=Date.now()}),this.playerProxyEvents.finish=(()=>{this._log2("playerProxy on finish"),this.statistic.onEvent("view",t),this._adFinished[t]=!0}),this.playerProxyEvents.adContentRollManagerDestroy=(()=>{this._log2("playerProxy on adContentRollManagerDestroy"),e("empty"),e("finish"),this.isSendInventory=!0,this.close(this.notCollapse),this.statistic.onEvent("empty",t),o.default.destroyUnitRollFromId(t),this._adFinished[t]=!0}),this.playerProxyEvents.waiting=(t=>{"open"===this.state&&(this._log2("playerProxy on waiting",t),e("waiting"))}),super.initFrame()}playPlayer(){this.playPlayer=function(){};let t=this.getId();this.loadSuccess(),this.statistic.onEvent("load",t)}styleInit(){super.styleInit(),this.collapse(!1)}getRollName(){return"content-roll"}loadPlayer(){this._log2("loadPlayer");let t=new Promise((t,e)=>{this._log2("loadPlayer promise then"),this.playerProxy.on({load:t,empty:e,error:e}),this.playerProxy.setSrc(this.fullUrl)});return this.loadPlayer=function(){return t},t}_fadeOut(){this.collapse()}collapse(t=!0){return new Promise(e=>{this.collapsed||this._collapsedProccess||(t&&!1===this.isMobile?(this._collapsedProccess=!0,r.domUtils.style(this.wrap,{transition:h,height:1,opacity:0}),setTimeout(()=>{this.collapsed=!0,this._collapsedProccess=!1,e()},u+10)):(r.domUtils.style(this.wrap,{transition:"none",height:1,opacity:0}),this.collapsed=!0,e()))})}showFrame(){var t,e=this,i=(...t)=>super.showFrame.apply(this,t);return(t=function*(){yield a.waitHelper.asyncTimeout(100),e.sendVisibleRateChange(e._visibleRate),yield a.waitHelper.asyncTimeout(100),i()},function(){var e=this,i=arguments;return new Promise(function(s,r){var o=t.apply(e,i);function n(t){c(o,s,r,n,a,"next",t)}function a(t){c(o,s,r,n,a,"throw",t)}n(void 0)})})()}expand(t=!0){return new Promise(e=>{this.collapsed&&(this._expandedProccess||(t&&!1===this.isMobile?(this._expandedProccess=!0,r.domUtils.style(this.wrap,{transition:h,height:this.height,opacity:1}),setTimeout(()=>{this.collapsed=!1,this._expandedProccess=!1,e()},u+10)):(r.domUtils.style(this.wrap,{transition:"none",height:this.height,opacity:1}),this.collapsed=!1,e())))})}isLegalWidth(){return this._minWidth<this.targ.node.clientWidth}_play(){this._needExpand&&this.expand(!0)}action(t,e,i){super.action(t,e,i);let s=this.state;switch(!this.isInventoryReady&&o.default.isFocus()&&this.isLegalWidth()&&this.playerProxy.isVisible()&&this.isVisibleZone()?(this.waistInv-=t,this.waistInv<=0&&(this.isInventoryReady=!0,this.sendInventory())):this.waistInv=n.default.TIMER_WAIST_INVENTORY,this.state!==s&&this._log2("action: change state to `"+this.state+"`"),this.state){case"wait":this.state="loading";break;case"loaded":this.state="open",this._needExpand=this.collapsed,this._play();break;case"show":if(o.default.isFocus()||this.statistic.onEvent("focus",this.getId()),!this.isLegalWidth())return this.statistic.onEvent("width",this.getId()),this.close(),void o.default.destroyUnitRollFromId(this.getId());if(!this.playerProxy.isVisible())return void this.statistic.onEvent("display",this.getId());let e=this.checkCoverZone();1===e?this.statistic.onEvent("coverage",this.getId()):2===e&&this.statistic.onEvent("focus",this.getId())}}}},{"../../../common/js/utils/waitHelper":118,"../settings/config":152,"../utils/dom":154,"../utils/units":160,"./fly-roll":148,"core-js/modules/es6.promise":89}],148:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FLOAT_MODES=i.FlyRoll=void 0;var s=t("./base-roll"),r=t("../utils/dom"),o=u(t("../settings/config")),n=u(t("../utils/units")),a=t("../utils/message"),l=t("../utils/player-frame"),c=u(t("../../../player/env/mobile-detect"));function u(t){return t&&t.__esModule?t:{default:t}}const h=200,d=`all ${h}ms linear`,f="full",p="float",_=3,m="top right",y="top left",g="top center",v="center right",A="center left",b="bottom right",V="bottom left",w="bottom center",E=b,T=10,S=T,x="rgba(0, 0, 0, 0.35) 0px 2px 10px 0px",k=o.default.DEFAULT_MIN_WIDTH,M=o.default.DEFAULT_MIN_HEIGHT,I={FULL:"full",BOTTOM:"bottom"};i.FLOAT_MODES=I;i.FlyRoll=class extends s.BaseRoll{constructor(t,e,i){super(i),this.LOG_PREFIX="FlyRoll: Roll: ",this.toFloatCount=0,this.toFullCount=0,this.observeVisibleRateChanges=!0,this.slot=t,this.floatMode="floatMode"in i?i.floatMode:I.FULL,this.flyEnabled=!("flyEnabled"in i&&!i.flyEnabled),e&&(this.el=e);let s=parseInt(i.width);e&&e.childNodes.length<=0&&(isNaN(s)||s<=0)&&"auto"!==i.width?(this.width=e.clientWidth>o.default.DEFAULT_MAX_WIDTH?o.default.DEFAULT_MAX_WIDTH:e.clientWidth,this.height=e.clientHeight,this.height<10&&(this.width<o.default.DEFAULT_MIN_WIDTH&&(this.width="auto"===i.width?e?e.clientWidth:3*o.default.DEFAULT_WIDTH:parseInt(i.width)?parseInt(i.width):e?e.clientWidth:o.default.DEFAULT_WIDTH,this.width=Math.max(this.width,o.default.DEFAULT_MIN_WIDTH),this.width=Math.min(this.width,3*o.default.DEFAULT_WIDTH)),this.height=this.width*o.default.DEFAULT_ORIENTATION,this.height=Math.max(this.height,o.default.DEFAULT_MIN_HEIGHT))):(this.width="auto"===i.width?e?e.clientWidth:3*o.default.DEFAULT_WIDTH:parseInt(i.width)?parseInt(i.width):e?e.clientWidth:o.default.DEFAULT_WIDTH,this.width=Math.max(this.width,o.default.DEFAULT_MIN_WIDTH),this.width=Math.min(this.width,3*o.default.DEFAULT_WIDTH),this.height=this.width*o.default.DEFAULT_ORIENTATION,this.height=Math.max(this.height,o.default.DEFAULT_MIN_HEIGHT)),this.align=i.align?i.align:o.default.DEFAULT_ALIGN;let r=parseInt(i.floatWidth);this._floatWidth=isNaN(r)||r<=0?o.default.DEFAULT_FLOAT_WIDTH:Math.max(o.default.DEFAULT_MIN_FLOAT_WIDTH,Math.min(o.default.DEFAULT_MAX_FLOAT_WIDTH,r)),this._floatHeight=this._floatWidth*o.default.DEFAULT_ORIENTATION>>0,this.floatFirstDelay="floatFirstDelay"in i?parseInt(i.floatFirstDelay):0,this.floatFirstScroll="floatFirstScroll"in i?parseInt(i.floatFirstScroll):0;let a=void 0!==i.floatPosition?i.floatPosition:E;switch(a){case"right":case"bottom":a=b;break;case"left":a=V;break;case"center":a=w;break;case"top":a=m;break;case m:case y:case g:case v:case A:case b:case V:case w:break;default:a=E}this._floatPosition=a,this._widthOriginal=this.width,this._heightOriginal=this.height,this._floatWidthOriginal=this._floatWidth,this._floatHeightOriginal=this._floatHeight,this.isMobile=!1,this.wrap=document.getElementById(this.getId()),this._initSizes(),this._floatWidth=Math.min(this._floatWidth,this.width),this._floatHeight=Math.min(this._floatHeight,this.height),this._isTransitionToFullRun=!1,this._isTransitionToFloatRun=!1,this._viewState=null,this._idleViewState=null,this.wrap=null,this.innerWrap=null,this.floatCloseElement=null,this._closeTimeout="floatCloseTimeout"in i?i.floatCloseTimeout:_,parseInt(this._closeTimeout)>0&&(this._closeTimeout=Math.min(99,parseInt(this._closeTimeout))),this._closeTime=this._closeTimeout,this._closeTimer=null,this._closed=!1,this._translateToFullFixPosition=this._translateToFullFixPosition.bind(this),this._closeFloatTimerDo=this._closeFloatTimerDo.bind(this),this.playerProxyEvents={ready:()=>{this._log2("frame event `ready`"),this.isPlayerReady=!0,this.statusAdvert="ready"},load:t=>{this._log2("frame event `load`"),this.runCallback("load",t.playerId),this.loadSuccess(),this.statistic.onEvent("load",t.playerId)},start:t=>{this._log2("frame event `start`"),this.runCallback("start",t.playerId),this.statistic.onEvent("start",t.playerId),this._adStarted[t.playerId]=!0},visible:()=>{this._log2("frame event `visible`"),this.state="show"},waiting:()=>{this._log2("frame event `waiting`"),this.state="loading"},empty:t=>{this._log2("frame event `empty`"),this.runCallback("empty",t.playerId),this.isSendInventory=!0,this.loadError(),this.statistic.onEvent("empty",t.playerId),this.close(),n.default.destroyUnitRollFromId(t.playerId)},error:t=>{this._log2("frame event `error`"),this.runCallback("error",t.playerId),this.statistic.onEvent("error",t.playerId),this.close(),n.default.destroyUnitRollFromId(t.playerId)},close:t=>{this._log2("frame event `close`"),this.runCallback("close",t.playerId),this.statistic.onEvent("close",t.playerId),this._closeTimings[t.playerId]=Date.now()},finish:t=>{this._log2("frame event `finish`"),this.runCallback("finish",t.playerId),this.statistic.onEvent("view",t.playerId),this._adFinished[t.playerId]=!0},adPayed:t=>{this._log2("frame event `adPayed`"),this.runCallback("adPayed",t.playerId)}},this.init(e)}getRollName(){return"fly-roll"}runCallback(t,e){super.runCallback(t,e),this.runOnEvent(t,e)}showFrame(){this.targ.node.style.opacity="1",this.targ.node.style["pointer-events"]="auto"}hideFrame(){this.targ.node.style.opacity="0.001",this.targ.node.style["pointer-events"]="none"}runOnEvent(t,e){switch(t){case"start":this.showFrame();break;case"error":case"close":case"finish":case"waiting":this.hideFrame()}}_log2(){if(!1===this.IS_DEBUG)return;let t=Array.prototype.slice.call(arguments);t&&t.length>0&&("string"==typeof t[0]||"number"==typeof t[0]?t[0]=this.LOG_PREFIX+t[0]:t=[this.LOG_PREFIX]+t),console.log.apply(console,t)}_initSizes(){this.width=this._widthOriginal,this.height=this._heightOriginal,this._floatWidth=this._floatWidthOriginal,this._floatHeight=this._floatHeightOriginal;let t=window.innerWidth,e=window.innerHeight,i=window.outerWidth,s=window.outerHeight;if(i<=0||s<=0){let r=document.body.getBoundingClientRect();i=r.width,s=r.width/(t/e)}let n=window.devicePixelRatio||1,a=i>0?Math.min(3,Math.max(1,Math.round(t/i/1.1))):1,l=Math.min(i,s),u=void 0!==window.orientation?90!==Math.abs(window.orientation):i<s;if(l<400||n>2&&l<450||1===n&&l<710){let t=.95*i,e=s/1.1>>0;this.width>t&&(this.isMobile=n>1,this.width=t,this.height=.625*this.width>>0),!1===u&&this.height>e&&(this.isMobile=n>1,this.height=e,this.width=this.height/.625>>0);let r=i/1.85>>0,o=s/2.25>>0;this._floatWidth>r&&(this.isMobile=n>1,this._floatWidth=r,this._floatHeight=.625*this._floatWidth>>0),!1===u&&this._floatHeight>o&&(this.isMobile=n>1,this._floatHeight=o,this._floatWidth=this._floatHeight/.625>>0)}if(this.width*=a,this.height*=a,this._floatWidth*=a,this._floatHeight*=a,a>1&&setTimeout(()=>{let e=.95*(this.wrap.parentNode?this.wrap.parentNode.offsetWidth:null);this.width>e&&(this.width=e,this.height=this.width*o.default.DEFAULT_ORIENTATION>>0);let i=t/1.85>>0;Math.abs(this._floatWidth-i)>10*a&&(this._floatWidth=i,this._floatHeight=this._floatWidth*o.default.DEFAULT_ORIENTATION>>0)},0),r.domUtils.height(this.wrap,this.height,"px",this.height?null:M),r.domUtils.width(this.innerWrap,this.width,"px",this.width?null:k),r.domUtils.height(this.innerWrap,this.height,"px",this.height?null:M),c.default){let t=this._floatPosition;switch(this._floatPosition){case m:case v:case b:t=b;break;case y:case A:case V:t=V;break;case g:case w:t=w}if(t!==this._floatPosition){this._floatPosition=t;let e=this._getFloatCloseElementStyles();r.domUtils.style(this.floatCloseElement,e)}}this._viewState===p&&(this._viewState=null,this.tryViewFloat(!1))}_translateToFullFixPosition(){if(!1===this._isTransitionToFullRun)return;let t=this.innerWrap.getBoundingClientRect(),e=this.innerWrap.clientWidth,i=this.innerWrap.clientHeight,s=window.innerWidth,o=window.innerHeight,n=r.domUtils.getScrollbarWidth(),a={width:e,height:i,"z-index":999999,"box-shadow":"none"};switch(this._floatPosition){case y:a.left=t.left,a.right="auto",a.top=t.top,a.bottom="auto";break;case m:a.left="auto",a.right=s-t.left-e-n,a.top=t.top,a.bottom="auto";break;case g:case A:a.left=t.left,a.right="auto",a.top=t.top,a.bottom="auto";break;case v:a.left="auto",a.right=s-t.left-e-n,a.top=t.top,a.bottom="auto";break;case V:case w:a.left=t.left,a.right="auto",a.top="auto",a.bottom=o-t.top-i;break;default:a.left="auto",a.right=s-t.left-e-n,a.top="auto",a.bottom=o-t.top-i}r.domUtils.style(this.targ.node,a)}_closeFloatTimerStart(){this._log2("_closeFloatTimerStart"),!1===this._closeTimeout?this.floatCloseElement.innerHTML="&times":(this._closeTime=this._closeTimeout,this.floatCloseElement.innerHTML=this._closeTime,this._closeTimer=setTimeout(this._closeFloatTimerDo,1e3))}_closeFloatTimerStop(){this._log2("_closeFloatTimerStop"),this._closeTime=this._closeTimeout,this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null)}_closeFloatTimerDo(){this._closeTime=Math.max(0,this._closeTime-1),0===this._closeTime?this.floatCloseElement.innerHTML="&times":(this.floatCloseElement.innerHTML=this._closeTime,this._closeTimer=setTimeout(this._closeFloatTimerDo,1e3))}_closeFloatClick(){(!1===this._closeTimeout||this._closeTime<=0)&&this._viewState===p&&(this._log2("_closeFloatClick do"),this._closed=!0,this._visibleRate=null,this.viewFull())}_fadeOut(){this._log2("_fadeOut"),r.domUtils.style(this.wrap,{transition:d,opacity:1}),setTimeout(()=>{r.domUtils.style(this.wrap,{height:1,opacity:0})},h)}init(t=this.el){this.state="wait",this.initCreate(t),this.initGet(),this.initOther(),this.styleInit()}initCreate(t){this._log2("initCreate"),super.initCreate(t),this.wrap.innerHTML=`<div class="${this.getId()}-inner-wrap"><div><div></div></div></div>`,t.appendChild(this.wrap)}initGet(){let t=this.wrap.getElementsByTagName("div")[1];this.targ={node:t,div:t.getElementsByTagName("div")[0]},this.targ.div.appendChild(this.playerProxy.getNode()),this.playerProxy.setAttrs({frameborder:"0",allowfullscreen:""})}initOther(){this._log2("initOther"),this.innerWrap=this.wrap.firstChild,this.floatCloseElement=document.createElement("div"),this.floatCloseElement.innerHTML=this._closeTime,this.floatCloseElement.title="Close",this.targ.node.appendChild(this.floatCloseElement),void 0!==this.floatCloseElement.addEventListener?this.floatCloseElement.addEventListener("click",this._closeFloatClick.bind(this)):this.floatCloseElement.onclick=this._closeFloatClick.bind(this),this.wrap.classList.add(`${this.getId()}-wrap`),this.innerWrap.classList.add(`${this.getId()}-inner-wrap`),this.targ.div.classList.add(`${this.getId()}-t-div`),this.targ.node.classList.add(`${this.getId()}-t-node`),this.floatCloseElement.classList.add(`${this.getId()}-float-close`),window.addEventListener("orientationchange",()=>{this._initSizes()})}styleInit(){this._log2("styleInit");let t=window.devicePixelRatio||1;if(this._minWidth=o.default.DEFAULT_MIN_WIDTH/t,!0===this.isMobile&&(this.width*t<o.default.DEFAULT_MIN_WIDTH||this.height*t<o.default.DEFAULT_MIN_HEIGHT)||!1===this.isMobile&&(this.width<o.default.DEFAULT_MIN_WIDTH||this.height<o.default.DEFAULT_MIN_HEIGHT))return a.unitMessage.invalidRule(),this.close(),void n.default.destroyUnitRollFromId(this.getId());super.styleInit(),this.targ.node.style["background-color"]="transparent",this.targ.node.style.transition="opacity 0.3s ease",this.hideFrame(),r.domUtils.style(this.innerWrap,{position:"relative",display:"inline-block"}),r.domUtils.width(this.wrap,"100%"),r.domUtils.height(this.wrap,this.height,"px",this.height?null:M),r.domUtils.width(this.innerWrap,this.width,"px",this.width?null:k),r.domUtils.height(this.innerWrap,this.height,"px",this.height?null:M),r.domUtils.size(this.targ.div,"100%","100%"),r.domUtils.style(this.targ.node,{transform:"translateZ(0)","padding-bottom":T});let e=this._getFloatCloseElementStyles();r.domUtils.style(this.floatCloseElement,e),this.viewFull(!1),this._viewState=null}_getFloatCloseElementStyles(){let t={position:"absolute",color:"white","background-color":"black","border-radius":"50%","z-index":9999,"font-size":14,width:20,height:20,"line-height":20,"text-align":"center",cursor:"pointer"};switch(this._floatPosition){case y:t.left=3,t.bottom=-25;break;case m:case g:t.right=3,t.bottom=-25;break;case A:case V:t.left=3,t.top=-22;break;case v:case w:default:t.right=3,t.top=-22}return t}initFrame(){this._log2("initFrame"),this.playerProxy=new l.PlayerFrame,this.playerProxy.setAttrs({id:this.getId()+"-frame"});let t=this.getId();this.statistic.onEvent("load",t),this.playerProxy.on(this.playerProxyEvents)}loadSuccess(){this._log2("loadSuccess"),super.loadSuccess()}getVisibleRate(t=!1){return super.getVisibleRate(this.wrap,t)}sendVisibleRateChange(t){this._viewState===p?this.playerProxy.sendMessage("visibleRateChange",{visibleRate:1,lastVisibleRate:t}):this.playerProxy.sendMessage("visibleRateChange",{visibleRate:this._visibleRate,lastVisibleRate:t})}action(t,e,i){if(super.action(t,e,i),"ready"===this.statusAdvert&&n.default.isFocus()){let t=this.getVisibleRate(!0),e=t.rate>this.visibility;this._lastVisibleRate&&this._lastVisibleRate.rate===t.rate||(this.trigger("VisibleRateChange",{visibleRate:{last:this._lastVisibleRate,current:t}}),this._lastVisibleRate=t),!1===e&&(this.floatMode===I.FULL||t.bottom>0)?this._viewState!==p&&("ready"!==this.statusAdvert?this._idleViewState=p:this.tryViewFloat()):this._viewState!==f?"ready"!==this.statusAdvert?this._idleViewState=f:this.viewFull():!0===this._closed&&(this._closed=!1),this._isTransitionToFullRun&&this._translateToFullFixPosition(),this._idleViewState===f&&this._viewState!==f?this.viewFull(!1):this._idleViewState===p&&this._viewState!==p&&this.tryViewFloat(!1)}}_doViewFloat(t=!0){this._clearTryViewFloatListeners(),this.showFrame(),this.viewFloat(t)}_clearTryViewFloatListeners(){this._floatFirstScrollListener&&(window.removeEventListener("scroll",this._floatFirstScrollListener),this._floatFirstScrollListener=void 0),this._floatFirstDelayTimeout&&(clearTimeout(this._floatFirstDelayTimeout),this._floatFirstDelayTimeout=void 0)}tryViewFloat(t=!0){let e=!0;if(this.toFloatCount<=0&&this.toFullCount<=1&&(this.floatFirstDelay>0&&(e=!1,this._floatFirstDelayTimeout||(this._floatFirstDelayTimeout=setTimeout(()=>{this._doViewFloat(!1)},1e3*this.floatFirstDelay))),this.floatFirstScroll>0&&(e=!1,!this._floatFirstScrollListener))){const t=window.scrollY,e=window.outerHeight/100*this.floatFirstScroll;this._floatFirstScrollListener=(i=>{Math.abs(window.scrollY-t)>=e&&this._doViewFloat(!1)}),window.addEventListener("scroll",this._floatFirstScrollListener)}e&&this.viewFloat(t)}close(t=!1){this._log2("CLOSE"),"closed"!==this.state&&(this.state="closed",!1===t&&this._fadeOut()),window.setTimeout(()=>{if(!0===this.isSendInventory){if(this._log2("DESTROY"),this.runCallback("finish",this.getId()),!1===t){r.domUtils.displayHide(this.wrap),this.targ.div.innerHTML="";let t=this.wrap.parentElement;t.childNodes&&1===t.childNodes.length&&r.domUtils.displayHide(t)}this._adFinished[this.getId()]=!0}},2*h)}viewFull(t=!0){this._log2("viewFull"),this.toFullCount++,this._clearTryViewFloatListeners(),this._closeFloatTimerStop(),r.domUtils.displayHide(this.floatCloseElement),t&&!1===this.isMobile&&(this._viewState!==f||this._isTransitionToFullRun)?(r.domUtils.style(this.targ.node,"transition",d),requestAnimationFrame(()=>{this._translateToFullFixPosition()}),setTimeout(this._translateToFullFixPosition,h/3),setTimeout(this._translateToFullFixPosition,h/3*2),setTimeout(()=>{this._isTransitionToFullRun=!1,r.domUtils.style(this.targ.node,{transition:"none",width:"100%",height:"100%",padding:0,position:"static",left:"auto",top:"auto",right:"auto",bottom:"auto","z-index":0})},h+20),this._isTransitionToFullRun=!0):(r.domUtils.style(this.targ.node,{width:"100%",height:"100%",padding:"0",position:"static",left:"auto",right:"auto",top:"auto",bottom:"auto","z-index":"0","box-shadow":"none"}),r.domUtils.style(this.targ.node,"transition","none")),this._viewState=f,this._idleViewState=null}viewFloat(t=!0){!1!==this.flyEnabled?!0!==this._closed&&(this.toFloatCount++,this._clearTryViewFloatListeners(),this._log2("viewFloat"),requestAnimationFrame(()=>{let e=window.innerWidth,i=window.innerHeight,s={position:"fixed",width:this._floatWidth,height:this._floatHeight,"z-index":999999};switch(this._floatPosition){case y:s.left=T,s.right="auto",s.top=S,s.bottom="auto";break;case m:s.left="auto",s.right=T,s.top=S,s.bottom="auto";break;case g:s.left=Math.round(e/2)-Math.round(this._floatWidth/2),s.right="auto",s.top=S,s.bottom="auto";break;case A:s.left=T,s.right="auto",s.top=Math.round(i/2)-Math.round(this._floatHeight/2),s.bottom="auto";break;case v:s.left="auto",s.right=T,s.top=Math.round(i/2)-Math.round(this._floatHeight/2),s.bottom="auto";break;case V:s.left=T,s.right="auto",s.top="auto",s.bottom=T;break;case w:s.left=Math.round(e/2)-Math.round(this._floatWidth/2),s.right="auto",s.top="auto",s.bottom=T;break;default:s.left="auto",s.right=T,s.top="auto",s.bottom=T}if(t&&!1===this.isMobile){let t=this.innerWrap.getBoundingClientRect(),e=this.innerWrap.clientWidth,i=this.innerWrap.clientHeight,o=window.innerWidth,n=window.innerHeight,a=r.domUtils.getScrollbarWidth(),l={transition:"none",position:"fixed",width:e,height:i,"z-index":999999};switch(this._floatPosition){case y:l.left=t.left,l.right="auto",l.top=t.top,l.bottom="auto";break;case m:l.left="auto",l.right=o-t.left-e-a,l.top=t.top,l.bottom="auto";break;case g:case A:l.left=t.left,l.right="auto",l.top=t.top,l.bottom="auto";break;case v:l.left="auto",l.right=o-t.left-e-a,l.top=t.top,l.bottom="auto";break;case V:case w:l.left=t.left,l.right="auto",l.top="auto",l.bottom=n-t.top-i;break;default:l.left="auto",l.right=o-t.left-e-a,l.top="auto",l.bottom=n-t.top-i}r.domUtils.style(this.targ.node,l),requestAnimationFrame(()=>{r.domUtils.style(this.targ.node,"transition",d),r.domUtils.style(this.targ.node,s)}),setTimeout(()=>{r.domUtils.style(this.targ.node,"transition","none"),r.domUtils.style(this.targ.node,"box-shadow",x),r.domUtils.style(this.targ.node,s),r.domUtils.displayBlock(this.floatCloseElement),this._closeFloatTimerStart()},h+20),this._isTransitionToFloatRun=!0}else r.domUtils.style(this.targ.node,"transition","none"),r.domUtils.style(this.targ.node,"box-shadow",x),r.domUtils.style(this.targ.node,s),r.domUtils.displayBlock(this.floatCloseElement),this._closeFloatTimerStart()}),this._viewState=p,this._idleViewState=null):this._viewState!==f&&(this._viewState=f,this._idleViewState=null,this.viewFull(!1))}}},{"../../../player/env/mobile-detect":129,"../settings/config":152,"../utils/dom":154,"../utils/message":155,"../utils/player-frame":156,"../utils/units":160,"./base-roll":145}],149:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.OverFocusRoll=void 0;var s=a(t("../utils/commons")),r=a(t("../utils/units")),o=a(t("../settings/config")),n=t("./over-roll");function a(t){return t&&t.__esModule?t:{default:t}}const l="FocusRoll: Roll: ",c=!0;i.OverFocusRoll=class extends n.OverRoll{constructor(t,e){super(e),this.slot=t,this.waist=o.default.TIMER_WAIST}initFrame(){super.initFrame();let t=this.id;this.playerProxy.on({ready:e=>{this._log2("playerProxy on ready"),t=e.playerId,this.sendInventory()},load:()=>{this._log2("playerProxy on load"),this.observeVisibleRateChanges=!0,this.loadSuccess(),this.statistic.onEvent("load",t)},visible:()=>{this._log2("playerProxy on visible"),this.state="loaded",this.isInventoryReady=!0,this.sendInventory()},start:()=>{this._log2("playerProxy on start"),this.statistic.onEvent("start",t)},empty:()=>{this._log2("playerProxy on empty"),"unknown"===this.statusAdvert?(this.isSendInventory=!0,this.loadError(),this.statistic.onEvent("empty",t),this.close(),this.statistic.onEvent("close",t),r.default.destroyUnitRollFromId(t)):this.statistic.onEvent("empty",t)},error:()=>{this._log2("playerProxy on error"),this.statistic.onEvent("empty",t)},close:()=>{this._log2("playerProxy on close"),this.statistic.onEvent("close",t)},finish:()=>{this._log2("playerProxy on finish"),this.statistic.onEvent("view",t)},adContentRollManagerDestroy:()=>{this._log2("playerProxy on adContentRollManagerDestroy"),this.isSendInventory=!0,this.close(),this.statistic.onEvent("empty",t),this.callback("empty",t),r.default.destroyUnitRollFromId(t)}})}action(t,e,i){switch(super.action.apply(this,arguments),this.isOverLegal(),!this.isInventoryReady&&r.default.isFocus()&&s.default.onScreen(this.targ.node)?(this.waistInv-=t,this.waistInv<=0&&(this.isInventoryReady=!0,this.sendInventory())):this.waistInv=o.default.TIMER_WAIST_INVENTORY,this.state){case"wait":r.default.isFocus()&&s.default.onScreen(this.targ.node)?(this.waist-=t,this.waist<=0&&(this.playerProxy.setSrc(this.fullUrl),this.state="loading",this.spinner.style.display="block")):this.waist=o.default.TIMER_WAIST;break;case"loaded":if(this.timer-=t,this.timer<0)return this.close(),void r.default.destroyUnitRollFromId(this.id);if(!this.onceShow&&"unknown"!==this.statusAdvert&&r.default.isFocus()&&s.default.onScreen(this.targ.node)){if(this.onceShow=!0,"empty"===this.statusAdvert)return this.close(),void r.default.destroyUnitRollFromId(this.id);this.spinner.style.display="none",this.play(),this.state="show"}break;case"show":if(r.default.isFocus()||this.statistic.onEvent("focus",this.id),!this.playerProxy.isVisible())return void this.statistic.onEvent("display",this.id);let e=this.checkCoverZone();1===e?this.statistic.onEvent("coverage",this.id):2===e&&this.statistic.onEvent("focus",this.id)}}_log2(){if(!1===c)return;let t=Array.prototype.slice.call(arguments);t&&t.length>0&&("string"==typeof t[0]||"number"==typeof t[0]?t[0]=l+t[0]:t=[l]+t),console.log.apply(console,t)}}},{"../settings/config":152,"../utils/commons":153,"../utils/units":160,"./over-roll":150}],150:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.OverRoll=void 0;var s=l(t("../utils/units")),r=l(t("../settings/config")),o=t("./base-roll"),n=t("../utils/message"),a=t("../utils/uniq");function l(t){return t&&t.__esModule?t:{default:t}}i.OverRoll=class extends o.BaseRoll{constructor(t){super(t),this.id=(0,a.uniq)("mv-overroll"),this.timer=r.default.TIMER_WAIT}initCreate(t){super.initCreate(t),t.parentNode.insertBefore(this.wrap,t)}styleInit(){let t=this.elNode.getBoundingClientRect();if(t.width<r.default.DEFAULT_MIN_WIDTH&&this.elNode.width<r.default.DEFAULT_MIN_WIDTH||t.height<r.default.DEFAULT_MIN_HEIGHT&&this.elNode.height<r.default.DEFAULT_MIN_HEIGHT)return n.unitMessage.invalidRule(),this.close(),void s.default.destroyUnitRollFromId(this.id);this.positionCash={width:t.width,height:t.height,top:t.top,left:t.left},this.wrap.style.position="fixed",this.wrap.style["z-index"]=999,this.wrap.style.width=t.width+"px",this.wrap.style.height=t.height+"px",this.wrap.style.top=t.top+"px",this.wrap.style.left=t.left+"px",this.targ.node.style.width="100%",this.targ.node.style.height="100%",this.targ.node.style.opacity=0,this.targ.div.style.width="100%",this.targ.div.style.height="100%",this.targ.div.style.padding="0";let e=document.createElement("div");e.innerHTML='<style>@-webkit-keyframes load3{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load3{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.mvp_loader{position:absolute;left:50%;top:50%;margin:-30px 0 0 -30px;width:60px;height:60px;opacity:0.6;background:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2060%2060%22%3E%3Ccircle%20fill%3D%22none%22%20stroke%3D%22%23000000%22%20stroke-width%3D%2210%22%20stroke-miterlimit%3D%2210%22%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%2225%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M3%2C30.5C3.4%2C45.8%2C15.2%2C57.6%2C30.5%2C58c3.2%2C0.1%2C3.2-4.9%2C0-5C18%2C52.7%2C8.3%2C43%2C8%2C30.5C7.9%2C27.3%2C2.9%2C27.3%2C3%2C30.5%20L3%2C30.5z%22%2F%3E%3C%2Fsvg%3E) center no-repeat;background-size:60px;display:block;-webkit-animation:load3 1.4s infinite linear;animation:load3 1.4s infinite linear;z-index:1}</style><div class="mvp_loader"></div>',this.wrap.appendChild(e),e=null,this.spinner=this.wrap.getElementsByClassName("mvp_loader")[0],super.styleInit()}play(){this.targ.node.style.opacity=1}close(){super.close(),this.wrap.style.height=0}isOverLegal(){if(this.wrap){let t=this.elNode.getBoundingClientRect();if("show"===this.state&&(t.width<r.default.DEFAULT_MIN_WIDTH||t.height<r.default.DEFAULT_MIN_HEIGHT))return this.statistic.onEvent("width",this.id),this.close(),void s.default.destroyUnitRollFromId(this.id);this.positionCash.top!==t.top&&(this.positionCash.top=t.top,this.wrap.style.top=t.top+"px"),this.positionCash.left!==t.left&&(this.positionCash.left=t.left,this.wrap.style.left=t.left+"px"),this.positionCash.width!==t.width&&(this.positionCash.width=t.width,this.wrap.style.width=t.width+"px"),this.positionCash.height!==t.height&&(this.positionCash.height=t.height,this.wrap.style.height=t.height+"px")}}}},{"../settings/config":152,"../utils/message":155,"../utils/uniq":159,"../utils/units":160,"./base-roll":145}],151:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.VideoBannerRoll=void 0;var s=t("./fly-roll");i.VideoBannerRoll=class extends s.FlyRoll{constructor(t,e,i){super(t,e,i),this.LOG_PREFIX="VB: Roll: ",this.IS_DEBUG=!0,this._log2("constructor"),this.observeVisibleRateChanges=!0}getRollName(){return"in-board"}initFrame(){this.playerProxyEvents.visible=[this.playerProxyEvents.visible,()=>{this.isInventoryReady=!0,this.sendInventory()}],super.initFrame()}}},{"./fly-roll":148}],152:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=t("../../../../config/player-version"),r={DEFAULT_PLATFORM:"pc",HIDDEN_SUPPORT:void 0!==document.hidden,START_VIEWPORT_HEIGHT:window.innerHeight,SCRIPT_NAME:"mvpt.min.js",DEFAULT_WIDTH:640,DEFAULT_MAX_WIDTH:800,DEFAULT_MIN_WIDTH:300,DEFAULT_MIN_HEIGHT:240,DEFAULT_MIN_FLOAT_WIDTH:300,DEFAULT_MAX_FLOAT_WIDTH:400,DEFAULT_FLOAT_WIDTH:370,DEFAULT_ORIENTATION:9/16,DEFAULT_ALIGN:"center",DEFAULT_MIN_CHAR_SIZE:300,DEFAULT_URL:"//moevideo.biz/native",DEFAULT_VISIBILITY:.7,FOCUS_VISIBILITY:.001,CONTENT_VISIBILITY:0,STATISTIC_PERCENTAGE:10,INSTANCE_MAX:4,TIMER_WAIT:12500,TIMER_WAIST:1e3,TIMER_WAIST_INVENTORY:1e3,DEFAULT_BETWEEN_AUDIO:0,DEFAULT_MIN_BETWEEN_AUDIO:0,DEFAULT_MAX_BETWEEN_AUDIO:36e5,FIND_RULE:"[^mv]player|moevideo.net|playreplay.[A-Za-z]+|videochart.net|thesame.tv|youtu|vimeo|uppod|up(pod)?.swf|vk[^A-Za-z0-9_]+.*video|censor.[A-Za-z]+|kinopoisk.ru|tsn.ua|twitch.tv|ustream.tv|jwplatform|jwplayer|jwp.*.swf",FIND_RULE2:"player",TRANSITION_DELAY:400,STEP_UPDATE:30,IS_DEBUG:666===s.OMVP_VERSION};i.default=r},{"../../../../config/player-version":1}],153:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/web.dom.iterable"),t("core-js/modules/es6.array.iterator"),t("core-js/modules/es6.object.keys"),t("core-js/modules/es6.regexp.match");var s={isIE:function(){let t=navigator.userAgent.match(/MSIE (9).0|MSIE (10)|rv:(11).0/);return t?t[1]:0}(),canReplace:function(){let t=["loaded","complete"],e=function(){let t=navigator.userAgent.match(/MSIE (9).0|MSIE (10)|rv:(11).0/);return t?t[1]:0}();return e&&e<=10?t:t.concat(["interactive"])}(),isVisible(t){let e,i,s,r;for(;t!=document;){if(i="0"===(e=window.getComputedStyle(t)).getPropertyValue("opacity"),s="hidden"===e.getPropertyValue("visibility"),r=e.getPropertyValue("display"),!t||!t.parentNode||i||s||"none"===r||0==t.offsetWidth&&"inline"!==r&&"list-item"!==r&&"NOINDEX"!=t.tagName&&"INDEX"!=t.tagName)return!1;t=t.parentNode}return!0},onScreen(t){let e,i,s=t.getBoundingClientRect();return e=[0,window.innerWidth,s.left,s.left+s.width],i=[0,window.innerHeight,s.top,s.top+s.height],!(e[1]<=e[2]||e[3]<=e[0]||i[1]<=i[2]||i[3]<=i[0])},extend(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},objToStr:t=>Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),getByClass(t,e){let i=document.getElementsByClassName(t);return e?i:i[0]},applyAttr(t,e){for(let i in e)t.setAttribute(i,e[i])},in_array(t,e){for(let i=t.length-1;i>=0;i--)if(t[i]==e)return!0;return!1},xhrRequest(t,e,i,s,r){let o,n=!1;this.isIE&&9==this.isIE?((o=document.createElement("script")).src=e+"?"+i+"&callback=",s&&(o.src+="reCall",window.reCall=function(t){n=!0,s(t)},o.onreadystatechange=function(){this.canReplace.indexOf(document.readyState)>=0&&(this.onreadystatechange=null,setTimeout(function(){!n&&r&&r()},0))}),document.head.appendChild(o)):(o="onload"in new XMLHttpRequest?new XMLHttpRequest:new XDomainRequest,r&&(o.onabort=function(){r("onAborted",o.status,o.readyState)},o.onerror=function(){r("onError",o.status,o.readyState)}),o.open(t,e,!0),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&s?o.responseText?s(JSON.parse(o.responseText)):r&&r("responseText empty",o.status,o.readyState):r&&4==o.readyState&&500==o.status&&r("500 error",o.status,o.readyState)},o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(i))}};i.default=s},{"core-js/modules/es6.array.iterator":85,"core-js/modules/es6.object.keys":88,"core-js/modules/es6.regexp.match":92,"core-js/modules/web.dom.iterable":103}],154:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.domUtils=void 0,t("core-js/modules/web.dom.iterable");const s=["webkit","moz","ms","o"],r=/^[-\d\\.e]+$/,o={transition:s,transform:s,"box-shadow":s},n=["font-size","line-height","top","left","right","bottom","width","height","margin-top","margin-left","margin-right","margin-bottom","padding-top","padding-left","padding-right","padding-bottom"],a={_doElement(t,e){t&&(Array.isArray(t)?t.forEach(t=>e(t)):t instanceof Element!=!1&&e(t))},_checkElement:t=>!!t&&(Array.isArray(t)?"array":t instanceof Element!=!1),_setStyle(t,e,i,s=!0){-1!==n.indexOf(e)&&!0===r.test(""+i)&&(i+="px"),s&&o.hasOwnProperty(e)&&o[e].forEach(s=>{this._setStyle(t,"-"+s+"-"+e,i,!1)}),t.style[e]=i},style(t,e,i){let s=this._checkElement(t);if(s){if("array"===s)return t.forEach(t=>this.style(t,e,i));if("string"==typeof e)this._setStyle(t,e,i);else for(let i in e)!1!==e.hasOwnProperty(i)&&this._setStyle(t,i,e[i])}},width(t,e,i="px",s=null,r=null){let o=this._checkElement(t);if(o){if("array"===o)return t.forEach(t=>this.width(t,e,i,s,r));this._setStyle(t,"width",e+("%"===(""+e).substr(-1)?"":i)),null!==s&&this._setStyle(t,"min-width",s+("%"===(""+s).substr(-1)?"":i)),null!==r&&this._setStyle(t,"max-width",r+("%"===(""+r).substr(-1)?"":i))}},height(t,e,i="px",s=null,r=null){let o=this._checkElement(t);if(o){if("array"===o)return t.forEach(t=>this.height(t,e,i,s,r));this._setStyle(t,"height",e+("%"===(""+e).substr(-1)?"":i)),null!==s&&this._setStyle(t,"min-height",s+("%"===(""+s).substr(-1)?"":i)),null!==r&&this._setStyle(t,"max-height",r+("%"===(""+r).substr(-1)?"":i))}},size(t,e,i,s="px"){let r=this._checkElement(t);if(r){if("array"===r)return t.forEach(t=>this.size(t,e,i,s));this._setStyle(t,"width",e+("%"===(""+e).substr(-1)?"":s)),this._setStyle(t,"height",i+("%"===(""+i).substr(-1)?"":s))}},displayHide(t){this.style(t,{display:"none"})},displayBlock(t){this.style(t,{display:"block"})},displayInline(t){this.style(t,{display:"inline"})},displayInlineBlock(t){this.style(t,{display:"inline-block"})},getScrollbarWidth(){let t=parseInt(document.documentElement.clientWidth);return parseInt(window.innerWidth)-t}};i.domUtils=a},{"core-js/modules/web.dom.iterable":103}],155:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.unitMessage=void 0;var s,r=(s=t("../settings/config"))&&s.__esModule?s:{default:s};let o=!1;function n(t){if(r.default.IS_DEBUG&&console.log(t),o){let e=document.getElementById("unit-roll-message");e&&(e.innerHTML=t)}}const a={enableTestMode(){o=!0},overflow(){n("MV-NR-Error: roll instances overflow, "+r.default.INSTANCE_MAX+" is maximum")},overMatch(){n("MV-NR-Error: must be only one roll at the element")},missElement(t){n("MV-NR-Error: element with selector "+t+" was not found")},invalidRule(){n("MV-NR-Error: invalid roll insertion or unexpected error")},skipInsertion(){n("MV-NR-Error: only first mode is valid, functionality was skipping")},fromPlayer(t){n("MV-NR-Player: "+t)},sendInventory(){n("MV-NR-Inventory: try to send")},isAliens(){n("MV-NR-Error: aliens detected, functionality was skipping")}};i.unitMessage=a},{"../settings/config":152}],156:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.PlayerFrame=void 0;var s=a(t("../../../player/core/base-object")),r=a(t("../../../player/utils/dom")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};s.get||s.set?Object.defineProperty(e,i,s):e[i]=t[i]}return e.default=t,e}(t("../../../common/js/utils/ref.js")),n=t("../../../ad/js/plugins/advert/lib/managerState.js");function a(t){return t&&t.__esModule?t:{default:t}}i.PlayerFrame=class extends s.default{constructor(){super(null),this._frame=document.createElement("iframe"),this._$frame=(0,r.default)(this._frame),this._onMessage=this._onMessage.bind(this),window.addEventListener("message",this._onMessage)}_onMessage(t){t.source===this.getNode().contentWindow&&this._filterMessage(t.data)}_filterMessage(t){const e=t.event,i=t.playerId;switch(e){case"adManagerState":switch(t.eventData.state){case n.MANAGER_STATE.READY:this.trigger("load",{playerId:i});break;case n.MANAGER_STATE.EMPTY:this.trigger("empty",{playerId:i});break;case n.MANAGER_STATE.AD_WAITING:this.trigger("waiting",{playerId:i});break;case n.MANAGER_STATE.AD_VIEW:this.trigger("visible",{playerId:i});break;case n.MANAGER_STATE.AD_START:this.trigger("start",{playerId:i});break;case n.MANAGER_STATE.AD_PRELOAD_SUCCESS:this.trigger("load",{playerId:i});break;case n.MANAGER_STATE.AD_PRELOAD_FAIL:this.trigger("empty",{playerId:i});break;case n.MANAGER_STATE.AD_ERROR:this.trigger("error",{playerId:i});break;case n.MANAGER_STATE.AD_END:this.trigger("finish",{playerId:i})}break;case"ready":this.sendMessage("refInfo",o.getInfo()),this.trigger("ready",{playerId:i});break;case"adClose":this.trigger("close",{playerId:i});break;case"adContentRollManagerInit":case"adContentRollManagerState":case"adContentRollManagerDestroy":this.trigger(e,{playerId:i});break;case"playerOptions":this._playerOptions=t.eventData.options,this.trigger(e,{playerOptions:this._playerOptions});break;case"visibilityChange":this.trigger(e,{visible:!!t.eventData});break;case"adPayed":this.trigger(e,{playerId:i})}}getNode(){return this._frame}getComputedHeight(){return window.getComputedStyle(this.getNode(),null).getPropertyValue("height")}setSrc(t){this.getNode().src=t}setAttrs(t){this._$frame.attr(t)}setStyle(t){this._$frame.css(t)}sendMessage(t,e={}){let i=this._frame.contentWindow;null!==i&&i.postMessage(JSON.stringify({name:t,params:e,type:"event",MoeVideo:!0}),"*")}isVisible(){let t,e,i,s,r=this.getNode();for(;r!=document;){if(e="0"===(t=window.getComputedStyle(r)).getPropertyValue("opacity"),i="hidden"===t.getPropertyValue("visibility"),s=t.getPropertyValue("display"),!r||!r.parentNode||e||i||"none"===s||0==r.offsetWidth&&"inline"!==s&&"list-item"!==s&&"NOINDEX"!=r.tagName&&"INDEX"!=r.tagName)return!1;r=r.parentNode}return!0}getPlayerOptions(){return this._playerOptions?this._playerOptions:null}}},{"../../../ad/js/plugins/advert/lib/managerState.js":114,"../../../common/js/utils/ref.js":116,"../../../player/core/base-object":123,"../../../player/utils/dom":131}],157:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s,r=(s=t("./commons"))&&s.__esModule?s:{default:s};let o=t("../../../common/js/utils/url.js").url.getDomain;var n={NEED_STAT:!0,NEED_ERROR:!0,eventTotal:{id:0,message:"",load:0,empty:0,start:0,view:0,close:0,focusLost:0,breaking:0,framesAliens:0,url:window.location.href,urlHost:o(window.location.href),referrer:document.referrer,refHost:o(document.referrer)},errorTotal:{},sendStat(t,e){this.NEED_STAT&&(this.eventTotal.id=t,this.eventTotal.message=e,r.default.xhrRequest("POST","//stat.moevideo.net/collect/content_roll/content_roll_stat",r.default.objToStr(this.eventTotal)))},sendError(){this.NEED_ERROR&&r.default.xhrRequest("POST","//stat.moevideo.net/collect/content_roll/content_roll_errors",r.default.objToStr(this.errorTotal))}};i.default=n},{"../../../common/js/utils/url.js":117,"./commons":153}],158:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.StatisticRoll=void 0;var s=o(t("../settings/config")),r=o(t("../utils/stat-kibana"));function o(t){return t&&t.__esModule?t:{default:t}}i.StatisticRoll=class{constructor(t){this._id=t,this.isLoad=!1,this.isEmpty=!1,this.isStart=!1,this.isWatch=!1,this.isClose=!1,this.isFocusLost=!1,this.isWidth=!1,this.isDisplay=!1,this.isCoverage=!1,100*Math.random()>s.default.STATISTIC_PERCENTAGE&&(this.onEvent=function(){})}sendStat(t){r.default.sendStat(this._id,t)}onEvent(t){switch(t){case"load":this.isLoad||(this.isLoad=!0,r.default.eventTotal.load++,this.sendStat("isLoad"));break;case"empty":this.isEmpty||(this.isEmpty=!0,r.default.eventTotal.empty++,this.sendStat("isEmpty"));break;case"start":this.isStart||(this.isStart=!0,r.default.eventTotal.start++,this.sendStat("isStart"));break;case"view":this.isWatch||(this.isWatch=!0,r.default.eventTotal.view++,this.sendStat("isWatch"));break;case"close":this.isClose||(this.isClose=!0,r.default.eventTotal.close++,this.sendStat("isClose"));break;case"focus":this.isFocusLost||(this.isFocusLost=!0,r.default.eventTotal.focusLost++,this.sendStat("isFocusLost"));break;case"width":this.isWidth||(this.isWidth=!0,r.default.eventTotal.breaking++,this.sendStat("widthFailed"));break;case"display":this.isDisplay||(this.isDisplay=!0,r.default.eventTotal.breaking++,this.sendStat("displayFailed"));break;case"coverage":this.isCoverage||(this.isCoverage=!0,r.default.eventTotal.breaking++,this.sendStat("coverContent"))}}}},{"../settings/config":152,"../utils/stat-kibana":157}],159:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.uniq=function(t){return`${t}-${s++}`};let s=Math.round(3e3*Math.random()+1e3)},{}],160:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("core-js/modules/es6.regexp.match");var s,r=(s=t("../settings/config"))&&s.__esModule?s:{default:s};var o={_rolls:[],push(t){this._rolls.push(t)},getRolls(){return this._rolls},detectAliensElements(t){if(t)return 0;let e,i,s,o,n,a,l,c=0;for(s=document.querySelectorAll("object"),o=document.querySelectorAll("embed"),n=document.querySelectorAll("video"),a=document.querySelectorAll("iframe"),l=function(t){if(t.dataset&&t.dataset.src){if(null!==t.dataset.src.match(r.default.FIND_RULE))return 1}else if(t.data){if(null!==t.data.match(r.default.FIND_RULE))return 1}else if(t.src&&null!==t.src.match(r.default.FIND_RULE))return 1;return 0},e=0,i=s.length;e<i;e++)c+=l(s[e]);for(e=0,i=o.length;e<i;e++)c+=l(o[e]);for(e=0,i=n.length;e<i;e++)c+=1;for(e=0,i=a.length;e<i;e++)c+=l(a[e]);if(0===c&&(s.length||o.length||n.length||a.length-this.getRolls().length))for(let t in window)null!==t.match(r.default.FIND_RULE2)&&c++;return c},checkInstancesOverflow(){return this.getRolls().length<r.default.INSTANCE_MAX},checkWrapExist(t){let e,i,s;for(e=0,i=this.getRolls().length;e<i;e++)if((s=this.getRolls()[e])&&s.elNode==t)return!1;return!0},searchTextElement(t,e,i){if(!t)return{chars:0};let s,o=t.children,n=t.textContent.length,a={el:t,chars:n,child_level:0,isLegal:!1};if("0"===t.style.opacity||"hidden"===t.style.visibility||"none"===t.style.display||t.offsetWidth<r.default.DEFAULT_MIN_WIDTH&&"NOINDEX"!=t.tagName||t.offsetLeft<-1e3||t.offsetTop<-1e3)i&&(i.chars-=n);else{let t;if(a.isLegal=!0,o.length>0){a.child_level=1;for(let t=0,i=0;t<o.length;t++)(s=this.searchTextElement(o[t],e,a)).child_level>i&&(i=s.child_level),s.isLegal&&(s.child_level>0||0==s.child_level&&s.chars>=r.default.DEFAULT_MIN_CHAR_SIZE)&&s.el!=a.el&&e.push(s);a.child_level=t+1}}return a},getPosition(t){let e=t.getBoundingClientRect();return{x:e.left,y:e.top}},getBlockParent(t){if(t)for(;t&&"block"!=window.getComputedStyle(t).display&&"inline-block"!=window.getComputedStyle(t).display;)t=t.parentNode;return t},getBottomYPosition(t){let e,i;return e=document.createElement("div"),t.appendChild(e),e.style.clear="both",i=e.getBoundingClientRect(),t.removeChild(e),i.top},getUnitRollFromId(t){for(let e,i=0,s=this.getRolls().length;i<s;i++)if((e=this.getRolls()[i])&&e.id===t)return e;return null},destroyUnitRollFromId(t){for(let e,i=0,s=this.getRolls().length;i<s;i++)if((e=this.getRolls()[i])&&e.id===t&&!0===e.isSendInventory){if("audio"===e.mode)return;return void(this.getRolls()[i]=null)}},isFocus:r.default.HIDDEN_SUPPORT?function(){return!document.hidden}:function(){return!0}};i.default=o},{"../settings/config":152,"core-js/modules/es6.regexp.match":92}]},{},[143]);